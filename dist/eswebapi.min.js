/*! Entersoft Application Server WEB API - v1.2.7 - 2015-10-07
* Copyright (c) 2015 Entersoft SA; Licensed Apache-2.0 */
!function(){"use strict";function a(a,b){return-1!==a.indexOf(b,a.length-b.length)}function b(a,b){return 0===a.toLowerCase().indexOf(b.toLowerCase())}var c=angular.module("es.Services.Web",["ngStorage","ngSanitize","ngFileUpload"]);c.constant("ESWEBAPI_URL",{__LOGIN__:"api/Login",__PUBLICQUERY__:"api/rpc/PublicQuery/",__PUBLICQUERY_INFO__:"api/rpc/PublicQueryInfo/",__USERSITES__:"api/Login/Usersites",__STANDARD_ZOOM__:"api/rpc/FetchStdZoom/",__SCROLLERROOTTABLE__:"api/rpc/SimpleScrollerRootTable/",__SCROLLER__:"api/rpc/SimpleScroller/",__ENTITYACTION__:"api/Entity/",__ENTITYBYGIDACTION__:"api/EntityByGID/",__ELASTICSEARCH__:"api/esearch/",__SERVER_CAPABILITIES__:"api/Login/ServerCapabilities/",__REGISTER_EXCEPTION__:"api/rpc/registerException/",__FETCH_COMPANY_PARAM__:"api/rpc/FetchCompanyParam/",__FETCH_COMPANY_PARAMS__:"api/rpc/FetchCompanyParams/",__SCROLLER_COMMAND__:"api/rpc/ScrollerCommand/",__FORM_COMMAND__:"api/rpc/FormCommand/",__FETCH_SESSION_INFO__:"api/rpc/FetchSessionInfo/",__FETCH_ODS_TABLE_INFO__:"api/rpc/FetchOdsTableInfo/",__FETCH_ODS_COLUMN_INFO__:"api/rpc/FetchOdsColumnInfo/",__FETCH_ODS_RELATION_INFO__:"api/rpc/FetchOdsRelationInfo/",__FETCH_ODS_DETAIL_RELATIONS_INFO__:"api/rpc/FetchOdsDetailRelationsInfo/",__FETCH_ODS_MASTER_RELATIONS_INFO__:"api/rpc/FetchOdsMasterRelationsInfo/",__FETCH_WEB_EAS_ASSET__:"api/asset/",__FETCH_ES00DOCUMENT_BY_GID__:"api/ES00Documents/InfoByGID/",__FETCH_ES00DOCUMENT_BY_CODE__:"api/ES00Documents/InfoByCode/",__FETCH_ES00DOCUMENT_BY_ENTITYGID__:"api/ES00Documents/InfoByEntityGid/",__FETCH_ES00DOCUMENT_BLOBDATA_BY_GID__:"api/ES00Documents/BlobDataByGID/"}),c.value("__WEBAPI_RT__",{url:""}),c.provider("esWebApi",function(){var c="",d="",e="",f={host:"",allowUnsecureConnection:!1,subscriptionId:"",subscriptionPassword:""};return{getSettings:function(){return f},getServerUrl:function(){return c},setSettings:function(g){var h="https://",i="http://";if(f=g,!f.host)throw"host for Entersoft WEB API Server is not specified";if(f.host=f.host.trim(),b(f.host,h)?f.host=f.host.slice(h.length).trim():b(f.host,i)&&(f.host=f.host.slice(i.length).trim()),""==f.host)throw"host for Entersoft WEB API Server is not specified";return a(f.host,"/")||(f.host+="/"),d=i+f.host,e=h+f.host,c=f.allowUnsecureConnection?d:e,this},$get:["$http","$log","$q","$timeout","$rootScope","ESWEBAPI_URL","esGlobals","esMessaging","Upload","esCache",function(a,b,g,h,i,j,k,l,m,n){function o(a,d){if(a){var e=angular.copy(a);try{e.__SubscriptionID=f.subscriptionId,e.__ServerUrl=c,e.__EDate=new Date,$.ajax({type:"POST",url:c.concat(j.__REGISTER_EXCEPTION__),contentType:"application/json",headers:{Authorization:k.getWebApiToken()},data:JSON.stringify({exceptionData:e,exceptionStore:d},null,"	")});var g=k.getGA();g&&g.registerException(e)}catch(h){b.warn("Error logging failed"),b.error(h)}}}function p(b){if(!b||!b.ScrollerID||!b.CommandID)throw"ScrollerID and CommandID properties must be defined";var c=j.__SCROLLER_COMMAND__,d=k.trackTimer("SCR","COMMAND",b.ScrollerID.concat("/",b.CommandID));d.startTime();var e=a({method:"post",headers:{Authorization:k.getWebApiToken()},url:c,data:b});return e.then(function(){d.endTime().send()}),e}function q(b,d){var e=c+j[b]+d,f=g.defer(),i=n.getItem(e);if(i)return h(function(){f.resolve(i)}),f.promise;var l=a({method:"get",headers:{Authorization:k.getWebApiToken()},url:e});return t(l).then(function(a){n.setItem(e,a),f.resolve(a)},function(){f.reject(arguments)}),f.promise}function r(b){if(!b||!b.EntityID||!b.CommandID)throw"EntityID and CommandID properties must be defined";var d=c+j.__FORM_COMMAND__,e=k.trackTimer("FORM","COMMAND",b.EntityID.concat("/",b.CommandID));e.startTime();var f=a({method:"post",headers:{Authorization:k.getWebApiToken()},url:d,data:b});return t(f,e)}function s(b,d,e,f){d=d?d.trim():"",e=e?e.trim():"";var g=c.concat(b,d,"/",e),h=k.trackTimer("SCR","FETCH",d.concat("/",e));h.startTime();var i=a({method:"GET",headers:{Authorization:k.getWebApiToken()},url:g,params:f});return t(i,h)}function t(a,b){return b&&a.then(function(){b.endTime().send()}),a.error(function(a,b){l.publish("ES_HTTP_CORE_ERR",a,b)}),a}return{getServerUrl:function(){return c},openSession:function(d){var e=k.trackTimer("AUTH","LOGIN","");e.startTime();var g=a({method:"post",url:c+j.__LOGIN__,data:{SubscriptionID:f.subscriptionId,SubscriptionPassword:f.subscriptionPassword,Model:d}}).success(function(a){k.sessionOpened(a,d),e.endTime().send()}).error(function(a,c,d,e){k.sessionClosed(),a?b.error(a):console.log("Generic Http error")});return t(g)},logout:function(){k.sessionClosed(),b.info("LOGOUT User")},fetchCompanyParam:function(b){if(!b)return void 0;var d=c.concat(j.__FETCH_COMPANY_PARAM__,b.replace(" ","")),e=a({method:"get",headers:{Authorization:k.getWebApiToken()},url:d});return t(e)},fetchCompanyParams:function(b){var d;d=b?angular.isArray(b)?c+j.__FETCH_COMPANY_PARAMS__+b.join("/").replace(/ /g,""):c+j.__FETCH_COMPANY_PARAMS__+b.replace(/,/g,"/").replace(/ /g,""):c+j.__FETCH_COMPANY_PARAMS__;var e=a({method:"get",headers:{Authorization:k.getWebApiToken()},url:d});return t(e)},registerException:o,fetchOdsTableInfo:function(a){return a=a?a.trim():"",q("__FETCH_ODS_TABLE_INFO__",a)},fetchOdsColumnInfo:function(a,b){a=a?a.trim():"",b=b?b.trim():"";var c="";if(b)c=a+"/"+b;else{var d=a.split(".");c=2==d.length?d[0]+"/"+d[1]:a}return q("__FETCH_ODS_COLUMN_INFO__",c)},fetchOdsRelationInfo:function(a){return a=a?a.trim():"",q("__FETCH_ODS_RELATION_INFO__",a)},fetchOdsMasterRelationsInfo:function(a,b){return a=a?a.trim():"",b=b?b.trim():"",q("__FETCH_ODS_MASTER_RELATIONS_INFO__",a+"/"+b)},fetchOdsDetailRelationsInfo:function(a,b){return a=a?a.trim():"",b=b?b.trim():"",q("__FETCH_ODS_DETAIL_RELATIONS_INFO__",a+"/"+b)},fetchServerCapabilities:function(){var b=g.defer();return a.get(d+j.__SERVER_CAPABILITIES__).success(function(a){b.resolve(a)}).error(function(){a.get(e+j.__SERVER_CAPABILITIES__).success(function(a){b.resolve(a)}).error(function(a,c,d,e){b.reject([a,c,d,e])})}),b.promise},fetchScroller:function(a,b,c){return s(j.__SCROLLER__,a,b,c)},fetchSimpleScrollerRootTable:function(a,b,c){return s(j.__SCROLLERROOTTABLE__,a,b,c)},fetchUserSites:function(b){var d=a({method:"post",url:c+j.__USERSITES__,data:{SubscriptionID:f.subscriptionId,SubscriptionPassword:f.subscriptionPassword,Model:b}});return t(d)},fetchSessionInfo:function(){var b=a({method:"get",headers:{Authorization:k.getWebApiToken()},url:c+j.__FETCH_SESSION_INFO__});return t(b)},executeNewEntityAction:function(b,d,e){var f=c.concat(j.__ENTITYACTION__,b,"/",d),g=k.trackTimer("ACTION","NEW_ENTITY",b.concat("/",d));g.startTime();var h=a({method:"post",headers:{Authorization:k.getWebApiToken()},url:f,data:e});return t(h,g)},executeEntityActionByCode:function(b,d,e,f){var g=c.concat(j.__ENTITYACTION__,b,"/",d,"/",e),h=k.trackTimer("ACTION","ENTITY_CODE",b.concat("/",e));h.startTime();var i=a({method:"post",headers:{Authorization:k.getWebApiToken()},url:g,data:f});return t(i,h)},executeEntityActionByGID:function(b,d,e,f){var g=c.concat(j.__ENTITYBYGIDACTION__,b,"/",d,"/",e),h=k.trackTimer("ACTION","ENTITY_GID",b.concat("/",e));h.startTime();var i=a({method:"post",headers:{Authorization:k.getWebApiToken()},url:g,data:f});return t(i,h)},executeFormCommand:function(a){return r(a)},executeFormCommandDS:function(a,b,c,d){var e={EntityID:a,CommandID:b,CommandParams:c};return d&&(e.EntityDataset=d),r(e)},executeScrollerCommandSRV:function(a,b,c,d,e){var f={ScrollerID:a+"/"+b,CommandID:c,ScrollerParams:d,CommandParams:e};return p(f)},executeScrollerCommandDS:function(a,b,c,d,e){var f={ScrollerID:a+"/"+b,CommandID:c,ScrollerDataset:d,CommandParams:e};return p(f)},fetchPublicQueryInfo:function(b,d,e){var f=c.concat(j.__PUBLICQUERY_INFO__,b,"/",d),i=g.defer();if(e){var l=n.getItem(f);if(l)return h(function(){i.resolve(l)}),i.promise}var m=k.trackTimer("PQ","INFO",b.concat("/",d));m.startTime();var o=a({method:"get",headers:{Authorization:k.getWebApiToken()},url:f});return t(o,m).then(function(a){n.setItem(f,a),i.resolve(a)},function(){i.reject(arguments)}),i.promise},fetchStdZoom:function(b,d,e){b=b?b.trim():"",e=!d&&e;var f=g.defer();if(e){var h=n.getItem("ESZOOM_"+b);if(h)return $307ut(function(){f.resolve(h)}),f.promise}var i=c.concat(j.__STANDARD_ZOOM__,b),l=k.trackTimer("ZOOM","FETCH",b);l.startTime();var m=a({method:"get",headers:{Authorization:k.getWebApiToken(),"X-ESPQOptions":JSON.stringify(d)},url:i}),o=t(m,l);return o.then(function(a){e&&n.setItem("ESZOOM_"+b,a),f.resolve(a)},function(){f.reject(arguments)}),f.promise},fetchPublicQuery:function(b,d,e,f,g){b=b?b.trim():"",d=d?d.trim():"";var h=c.concat(j.__PUBLICQUERY__,b,"/",d),i=k.trackTimer("PQ","FETCH",b.concat("/",d));i.startTime();var l={headers:{Authorization:k.getWebApiToken()},url:h,params:f};e&&(l.headers["X-ESPQOptions"]=JSON.stringify(e)),l.method=g||"GET","GET"!==l.method&&(delete l.params,l.data=f);var m=a(l);return t(m,i)},fetchEASWebAsset:function(b,d){var e={base64:!1};d?(e.base64=!!d.base64,e.responseType=d.responseType,e.Accept=d.Accept):e.responseType="arraybuffer";var f=c.concat(j.__FETCH_WEB_EAS_ASSET__,b),g=k.trackTimer("EAS_ASSET","FETCH",b);g.startTime();var h={method:"GET",headers:{Authorization:k.getWebApiToken()},url:f,params:{base64:e.base64}};h.headers.Accept=e.Accept,e.responseType&&(h.responseType=e.responseType);var i=a(h);return t(i,g)},fetchES00DocumentBlobDataByGID:function(b){var d=c.concat(j.__FETCH_ES00DOCUMENT_BLOBDATA_BY_GID__,b),e=k.trackTimer("ES00DOCUMENT_BLOBDATA","FETCH",b);e.startTime();var f={method:"GET",headers:{Authorization:k.getWebApiToken(),Accept:void 0},url:d,params:{base64:!1},responseType:"arraybuffer"},g=a(f);return t(g,e)},fetchES00DocumentByGID:function(b){b=b?b.trim():"";var d=c.concat(j.__FETCH_ES00DOCUMENT_BY_GID__,b),e=k.trackTimer("ES00DOCUMENT","FETCH",b);e.startTime();var f=a({method:"get",headers:{Authorization:k.getWebApiToken()},url:d});return t(f,e)},fetchES00DocumentByCode:function(b){b=b?b.trim():"";var d=c.concat(j.__FETCH_ES00DOCUMENT_BY_CODE__,b),e=k.trackTimer("ES00DOCUMENT","FETCH",b);e.startTime();var f=a({method:"get",headers:{Authorization:k.getWebApiToken()},url:d});return t(f,e)},fetchES00DocumentsByEntityGID:function(b){b=b?b.trim():"";var d=c.concat(j.__FETCH_ES00DOCUMENT_BY_ENTITYGID__,b),e=k.trackTimer("ES00DOCUMENT_S","FETCH",b);e.startTime();var f=a({method:"get",headers:{Authorization:k.getWebApiToken()},url:d});return t(f,e)},addES00Document:function(a,b,c,d,e,f,g){d.upload=m.upload({url:"http://esrdfiles.azurewebsites.net/api/photo",method:"POST",headers:{"my-header":"my-header-value"},fields:{description:c},file:d}),d.upload.then(function(a){h(function(){d.result=a.data,e(d)})},f),d.upload.progress(g)},eSearch:function(b,d,e){var f=c.concat(j.__ELASTICSEARCH__,b),g=a({method:d,headers:{Authorization:k.getWebApiToken()},url:f,data:e}).success(function(a){var c=k.getGA();c&&c.registerEventTrack({category:"ELASTIC_SEARCH",action:"SEARCH",label:b})}).error(function(a){try{o(a)}catch(b){}});return t(g)}}}]}}),c.factory("esElasticSearch",["esWebApi",function(a){return{searchIndex:function(b,c){var d=b+"/_search";return a.eSearch(d,"post",c)},searchIndexAndDocument:function(b,c,d){var e=b+"/"+c+"/_search";return a.eSearch(e,"post",d)},searchFree:a.eSearch}}])}(),function(){"use strict";var a=angular.module("es.Services.Analytics",[]);a.provider("es.Services.GA",function(){var a={gaKey:void 0,pageTracking:{autoTrackFirstPage:!0,autoTrackVirtualPages:!0,trackRelativePath:!1,autoBasePath:!1,basePath:""},developerMode:!1};return{setGAKey:function(a){gaKey=a},settings:a,virtualPageviews:function(a){this.settings.pageTracking.autoTrackVirtualPages=a},firstPageview:function(a){this.settings.pageTracking.autoTrackFirstPage=a},withBase:function(a){this.settings.pageTracking.basePath=a?angular.element("base").attr("href").slice(0,-1):""},withAutoBase:function(a){this.settings.pageTracking.autoBasePath=a},developerMode:function(a){this.settings.developerMode=a},start:function(b,c){window.ga&&b&&""!=b&&(a.gaKey=b,ga("create",b,c))},$get:["$window",function(b){return{settings:a,registerPageTrack:function(a){b.ga&&b.ga("send","pageview",a)},registerException:function(a){b.ga&&a&&b.ga("send","exception",{exDescription:JSON.stringify(a),exFatal:!1})},registerTiming:function(a){if(b.ga){if(!(a&&a.timingCategory&&a.timingVar&&a.timingValue))return;if(a.timingValue){var c=parseInt(a.timingValue,10);if(a.timingValue=isNaN(c)?0:c,0==a.timingValue)return}b.ga("send","timing",a)}},registerEventTrack:function(a){if(b.ga){if(!a||!a.category)return;if(a.value){var c=parseInt(a.value,10);a.value=isNaN(c)?0:c}for(var d={eventCategory:a.category||null,eventAction:a.action||null,eventLabel:a.label||null,eventValue:a.value||null,nonInteraction:a.noninteraction||null},e=1;20>=e;e++)a["dimension"+e.toString()]&&(d["dimension"+e.toString()]=a["dimension"+e.toString()]),a["metric"+e.toString()]&&(d["metric"+e.toString()]=a["metric"+e.toString()]);b.ga("send","event",d)}}}}]}}),a.run(["$rootScope","$window","es.Services.GA","$injector",function(a,b,c,d){c.settings.pageTracking.autoTrackFirstPage&&d.invoke(["$location",function(a){var e=!0;if(d.has("$route")){var f=d.get("$route");for(var g in f.routes){e=!1;break}}else if(d.has("$state")){var h=d.get("$state");for(var i in h.get()){e=!1;break}}if(e)if(c.settings.pageTracking.autoBasePath&&(c.settings.pageTracking.basePath=b.location.pathname),c.settings.trackRelativePath){var j=c.settings.pageTracking.basePath+a.url();c.registerPageTrack(j,a)}else c.registerPageTrack(a.absUrl(),a)}]),c.settings.pageTracking.autoTrackVirtualPages&&d.invoke(["$location",function(e){c.settings.pageTracking.autoBasePath&&(c.settings.pageTracking.basePath=b.location.pathname+"#"),d.has("$route")&&a.$on("$routeChangeSuccess",function(a,b){if(!b||!(b.$$route||b).redirectTo){var d=c.settings.pageTracking.basePath+e.url();c.registerPageTrack(d,e)}}),d.has("$state")&&a.$on("$stateChangeSuccess",function(a,b){var d=c.settings.pageTracking.basePath+e.url();c.registerPageTrack(d,e)})}]),c.settings.developerMode&&angular.forEach(c,function(a,b){"function"==typeof a&&(c[b]=function(){})})}]),a.directive("esAnalyticsOn",["$document","es.Services.GA",function(a,b){function c(a){return a.tagName.toLowerCase()+":"+(a.type||"")=="a:"}function d(a){return["button:","button:button","button:submit","input:button","input:submit"].indexOf(a.tagName.toLowerCase()+":"+(a.type||""))>=0}function e(a){return d(a)||c(a),"click"}function f(b){if(d(b))return"Command";if(c(b)){if(!b.href)return"Navigate";var e=b.href,f=/\.(mov|jpg|png|rar|avi|zip|exe|pdf|doc*|xls*|ppt*|mp*)$/i;if(e.match(/^https?\:/i)){var g=e.match(f);return e.match(a[0].domain)?g?"Internal Download":"Internal Link":g?"External Download":"External Link"}return e.match(/^mailto\:/i)?"Mail To":e.match(f)?"Download":"Navigate"}return b.id||b.name||b.tagName}function g(a){return d(a)?a.tagName.toLowerCase()+":"+(a.type||""):c(a)?a.href?a.href:a.innerText||a.value:a.id||a.name||a.tagName}function h(a){return d(a)||c(a)?a.innerText||a.value:a.id||a.name||a.tagName}function i(a){return"esAnalytics"===a.substr(0,11)&&-1===["On","If","Properties","EventType"].indexOf(a.substr(11))}function j(a){var b=a.slice(11);return"undefined"!=typeof b&&null!==b&&b.length>0?b.substring(0,1).toLowerCase()+b.substring(1):b}return{restrict:"A",link:function(c,d,k){var l=k.esAnalyticsOn||e(d[0]),m={};angular.forEach(k.$attr,function(a,b){i(b)&&(m[j(b)]=k[b],k.$observe(b,function(a){m[j(b)]=a}))}),m.category=m.category||f(d[0],a),m.action=m.action||g(d[0],a),m.label=m.label||h(d[0],a),angular.element(d[0]).bind(l,function(a){(!k.esAnalyticsIf||c.$eval(k.esAnalyticsIf))&&(k.esAnalyticsProperties&&angular.extend(m,c.$eval(k.esAnalyticsProperties)),b.registerEventTrack(m))})}}}])}(),function(a){"use strict";a.module("es.services.Web.Environment",[]).provider("Environment",[function(){function a(){var a=document.location.href.match(/^https?\:\/\/([^\/?#]+)(?:[\/?#]|$)/i);return a&&a[1]}var b={dev:[],prod:[],staging:[]},c="dev",d="/KB/app/images",e="/KB/app/templates";return{setStage:function(a){c=a},getStage:function(){return c},setAssetsPath:function(a){d=a},setTemplatesPath:function(a){e=a},addDevelopmentDomains:function(a){return b.dev=a,this},addProductionDomains:function(a){return b.prod=a,this},addStagingDomains:function(a){return b.staging=a,this},setStageFromDomain:function(){var d;for(var e in b)if(d=a(),b[e].indexOf(d)>=0){c=e;break}},$get:function(){return{stage:c,assetsPath:d,templatesPath:e,isDev:function(){return"dev"===c},isProduction:function(){return"prod"===c},isStaging:function(){return"staging"===c},getAssetsPath:function(){return d},getTemplatesPath:function(){return e}}}}}])}(window.angular),function(){"use strict";var a=angular.module("underscore",[]);a.factory("_",function(){return window._});var b="1.2.7",c=_.map(b.split("."),function(a){return parseInt(a)}),d={Major:c[0],Minor:c[1],Patch:c[2]},e=angular.module("es.Services.Web");e.provider("esCache",function(){var a=null,b={};return b.maxSize=-1,b.storage=null,{setMaxSize:function(a){angular.isNumber(a)?b.maxSize=a:b.maxSize=-1},getMaxSize:function(){return b.maxSize},getStorageSettings:function(){return b.storage},setStorageSettings:function(a){b&&(b.storage=a)},$get:function(){if("undefined"==typeof Cache)throw"You must include jscache.js";return window.Cache=Cache,a=new Cache(b.maxSize,!1,b.storage),{getItem:function(b){return a.getItem(b)},setItem:function(b,c,d){a.setItem(b,c,d)},removeItem:function(b){a.removeItem(b)},removeWhere:function(b){a.removeWhere(function(a,c){return b(a,c)})},size:function(){return a.size()},clear:function(){a.clear()},stats:function(){return a.getStats()}}}}}),e.factory("esMessaging",function(){function a(){if(!arguments||arguments.Length<1)throw"Publishing events requires at least one argument for topic id";var a=arguments[0],b=Array.prototype.slice.call(arguments,1);d[a]&&angular.forEach(d[a],function(c){try{c.apply(null,b)}catch(d){console.log("Error in messaging handler for topic ",a)}})}function b(a,b){return d[a]||(d[a]=[]),d[a].push(b),[a,b]}function c(a){var b=a[0];d[b]&&angular.forEach(d[b],function(c){this==a[1]&&d[b].splice(c,1)})}var d={},e={publish:a,subscribe:b,unsubscribe:c};return e}),e.factory("esGlobals",["$sessionStorage","$log","esMessaging","$injector",function(a,b,c,e){function f(){if(!e)return void 0;try{return e.get("es.Services.GA")}catch(a){return void 0}}function g(){if(!m.connectionModel){var d=a,e=null;if("undefined"!=typeof d.__esrequest_sesssion&&null!==d.__esrequest_sesssion){e=d.__esrequest_sesssion,m.connectionModel=e,c.publish("AUTH_CHANGED",m,j(e));var g=f();angular.isDefined(g)&&g.registerEventTrack({category:"AUTH",action:"RELOGIN",label:m.connectionModel.GID}),b.info("RELOGIN User ",m.connectionModel.Name)}else c.publish("AUTH_CHANGED",null,j(null)),b.info("NO RELOGIN from stored state")}return m.connectionModel}function h(b){var d=null;if(m.connectionModel&&(d=m.connectionModel.GID),m.connectionModel=b,b)a.__esrequest_sesssion=b;else{delete a.__esrequest_sesssion;var e=f();angular.isDefined(e)&&e.registerEventTrack({category:"AUTH",action:"LOGOUT",label:d})}c.publish("AUTH_CHANGED",m,j(b))}function i(a,b){if(!a)switch(b){case 401:return"Please Login first";case 403:return"You are not authorized. Please Login and try again";case 500:default:return"General Error. Please check your network and internet access"}if(a instanceof ArrayBuffer)try{a=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(a)))}catch(c){}var d="";if(a.UserMessage)return d=a.UserMessage,a.MessageID&&(d=d+" ("+a.MessageID+")"),d;if(a.Messages){if(angular.isArray(a.Messages)){var e=0;d=_.reduce(a.Messages,function(a,b){return a+"\r\n["+ ++e+"] "+b},"")}else d=a.Messages;return d?d:"General Error. Please check your network and internet access"}return"General Error. Please check your network and internet access"}function j(a){return a?"Bearer "+a.WebApiToken:""}function k(){var a=[{mime:"application/andrew-inset",extension:["ez"]},{mime:"application/applixware",extension:["aw"]},{mime:"application/atom+xml",extension:["atom"]},{mime:"application/atomcat+xml",extension:["atomcat"]},{mime:"application/atomsvc+xml",extension:["atomsvc"]},{mime:"application/ccxml+xml",extension:["ccxml"]},{mime:"application/cdmi-capability",extension:["cdmia"]},{mime:"application/cdmi-container",extension:["cdmic"]},{mime:"application/cdmi-domain",extension:["cdmid"]},{mime:"application/cdmi-object",extension:["cdmio"]},{mime:"application/cdmi-queue",extension:["cdmiq"]},{mime:"application/cu-seeme",extension:["cu"]},{mime:"application/davmount+xml",extension:["davmount"]},{mime:"application/docbook+xml",extension:["dbk"]},{mime:"application/dssc+der",extension:["dssc"]},{mime:"application/dssc+xml",extension:["xdssc"]},{mime:"application/ecmascript",extension:["ecma"]},{mime:"application/emma+xml",extension:["emma"]},{mime:"application/epub+zip",extension:["epub"]},{mime:"application/exi",extension:["exi"]},{mime:"application/font-tdpfr",extension:["pfr"]},{mime:"application/gml+xml",extension:["gml"]},{mime:"application/gpx+xml",extension:["gpx"]},{mime:"application/gxf",extension:["gxf"]},{mime:"application/hyperstudio",extension:["stk"]},{mime:"application/inkml+xml",extension:["ink","inkml"]},{mime:"application/ipfix",extension:["ipfix"]},{mime:"application/java-archive",extension:["jar"]},{mime:"application/java-serialized-object",extension:["ser"]},{mime:"application/java-vm",extension:["class"]},{mime:"application/javascript",extension:["js"]},{mime:"application/json",extension:["json"]},{mime:"application/jsonml+json",extension:["jsonml"]},{mime:"application/lost+xml",extension:["lostxml"]},{mime:"application/mac-binhex40",extension:["hqx"]},{mime:"application/mac-compactpro",extension:["cpt"]},{mime:"application/mads+xml",extension:["mads"]},{mime:"application/marc",extension:["mrc"]},{mime:"application/marcxml+xml",extension:["mrcx"]},{mime:"application/mathematica",extension:["ma","nb","mb"]},{mime:"application/mathml+xml",extension:["mathml"]},{mime:"application/mbox",extension:["mbox"]},{mime:"application/mediaservercontrol+xml",extension:["mscml"]},{mime:"application/metalink+xml",extension:["metalink"]},{mime:"application/metalink4+xml",extension:["meta4"]},{mime:"application/mets+xml",extension:["mets"]},{mime:"application/mods+xml",extension:["mods"]},{mime:"application/mp21",extension:["m21","mp21"]},{mime:"application/mp4",extension:["mp4s"]},{mime:"application/msword",extension:["doc","dot"]},{mime:"application/mxf",extension:["mxf"]},{mime:"application/octet-stream",extension:["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy"]},{mime:"application/oda",extension:["oda"]},{mime:"application/oebps-package+xml",extension:["opf"]},{mime:"application/ogg",extension:["ogx"]},{mime:"application/omdoc+xml",extension:["omdoc"]},{mime:"application/onenote",extension:["onetoc","onetoc2","onetmp","onepkg"]},{mime:"application/oxps",extension:["oxps"]},{mime:"application/patch-ops-error+xml",extension:["xer"]},{mime:"application/pdf",extension:["pdf"]},{mime:"application/pgp-encrypted",extension:["pgp"]},{mime:"application/pgp-signature",extension:["asc","sig"]},{mime:"application/pics-rules",extension:["prf"]},{mime:"application/pkcs10",extension:["p10"]},{mime:"application/pkcs7-mime",extension:["p7m","p7c"]},{mime:"application/pkcs7-signature",extension:["p7s"]},{mime:"application/pkcs8",extension:["p8"]},{mime:"application/pkix-attr-cert",extension:["ac"]},{mime:"application/pkix-cert",extension:["cer"]},{mime:"application/pkix-crl",extension:["crl"]},{mime:"application/pkix-pkipath",extension:["pkipath"]},{mime:"application/pkixcmp",extension:["pki"]},{mime:"application/pls+xml",extension:["pls"]},{mime:"application/postscript",extension:["ai","eps","ps"]},{mime:"application/prs.cww",extension:["cww"]},{mime:"application/pskc+xml",extension:["pskcxml"]},{mime:"application/rdf+xml",extension:["rdf"]},{mime:"application/reginfo+xml",extension:["rif"]},{mime:"application/relax-ng-compact-syntax",extension:["rnc"]},{mime:"application/resource-lists+xml",extension:["rl"]},{mime:"application/resource-lists-diff+xml",extension:["rld"]},{mime:"application/rls-services+xml",extension:["rs"]},{mime:"application/rpki-ghostbusters",extension:["gbr"]},{mime:"application/rpki-manifest",extension:["mft"]},{mime:"application/rpki-roa",extension:["roa"]},{mime:"application/rsd+xml",extension:["rsd"]},{mime:"application/rss+xml",extension:["rss"]},{mime:"application/rtf",extension:["rtf"]},{mime:"application/sbml+xml",extension:["sbml"]},{mime:"application/scvp-cv-request",extension:["scq"]},{mime:"application/scvp-cv-response",extension:["scs"]},{mime:"application/scvp-vp-request",extension:["spq"]},{mime:"application/scvp-vp-response",extension:["spp"]},{mime:"application/sdp",extension:["sdp"]},{mime:"application/set-payment-initiation",extension:["setpay"]},{mime:"application/set-registration-initiation",extension:["setreg"]},{mime:"application/shf+xml",extension:["shf"]},{mime:"application/smil+xml",extension:["smi","smil"]},{mime:"application/sparql-query",extension:["rq"]},{mime:"application/sparql-results+xml",extension:["srx"]},{mime:"application/srgs",extension:["gram"]},{mime:"application/srgs+xml",extension:["grxml"]},{mime:"application/sru+xml",extension:["sru"]},{mime:"application/ssdl+xml",extension:["ssdl"]},{mime:"application/ssml+xml",extension:["ssml"]},{mime:"application/tei+xml",extension:["tei","teicorpus"]},{mime:"application/thraud+xml",extension:["tfi"]},{mime:"application/timestamped-data",extension:["tsd"]},{mime:"application/vnd.3gpp.pic-bw-large",extension:["plb"]},{mime:"application/vnd.3gpp.pic-bw-small",extension:["psb"]},{mime:"application/vnd.3gpp.pic-bw-var",extension:["pvb"]},{mime:"application/vnd.3gpp2.tcap",extension:["tcap"]},{mime:"application/vnd.3m.post-it-notes",extension:["pwn"]},{mime:"application/vnd.accpac.simply.aso",extension:["aso"]},{mime:"application/vnd.accpac.simply.imp",extension:["imp"]},{mime:"application/vnd.acucobol",extension:["acu"]},{mime:"application/vnd.acucorp",extension:["atc","acutc"]},{mime:"application/vnd.adobe.air-application-installer-package+zip",extension:["air"]},{mime:"application/vnd.adobe.formscentral.fcdt",extension:["fcdt"]},{mime:"application/vnd.adobe.fxp",extension:["fxp","fxpl"]},{mime:"application/vnd.adobe.xdp+xml",extension:["xdp"]},{mime:"application/vnd.adobe.xfdf",extension:["xfdf"]},{mime:"application/vnd.ahead.space",extension:["ahead"]},{mime:"application/vnd.airzip.filesecure.azf",extension:["azf"]},{mime:"application/vnd.airzip.filesecure.azs",extension:["azs"]},{mime:"application/vnd.amazon.ebook",extension:["azw"]},{mime:"application/vnd.americandynamics.acc",extension:["acc"]},{mime:"application/vnd.amiga.ami",extension:["ami"]},{mime:"application/vnd.android.package-archive",extension:["apk"]},{mime:"application/vnd.anser-web-certificate-issue-initiation",extension:["cii"]},{mime:"application/vnd.anser-web-funds-transfer-initiation",extension:["fti"]},{mime:"application/vnd.antix.game-component",extension:["atx"]},{mime:"application/vnd.apple.installer+xml",extension:["mpkg"]},{mime:"application/vnd.apple.mpegurl",extension:["m3u8"]},{mime:"application/vnd.aristanetworks.swi",extension:["swi"]},{mime:"application/vnd.astraea-software.iota",extension:["iota"]},{mime:"application/vnd.audiograph",extension:["aep"]},{mime:"application/vnd.blueice.multipass",extension:["mpm"]},{mime:"application/vnd.bmi",extension:["bmi"]},{mime:"application/vnd.businessobjects",extension:["rep"]},{mime:"application/vnd.chemdraw+xml",extension:["cdxml"]},{mime:"application/vnd.chipnuts.karaoke-mmd",extension:["mmd"]},{mime:"application/vnd.cinderella",extension:["cdy"]},{mime:"application/vnd.claymore",extension:["cla"]},{mime:"application/vnd.cloanto.rp9",extension:["rp9"]},{mime:"application/vnd.clonk.c4group",extension:["c4g","c4d","c4f","c4p","c4u"]},{mime:"application/vnd.cluetrust.cartomobile-config",extension:["c11amc"]},{mime:"application/vnd.cluetrust.cartomobile-config-pkg",extension:["c11amz"]},{mime:"application/vnd.commonspace",extension:["csp"]},{mime:"application/vnd.contact.cmsg",extension:["cdbcmsg"]},{mime:"application/vnd.cosmocaller",extension:["cmc"]},{mime:"application/vnd.crick.clicker",extension:["clkx"]},{mime:"application/vnd.crick.clicker.keyboard",extension:["clkk"]},{mime:"application/vnd.crick.clicker.palette",extension:["clkp"]},{mime:"application/vnd.crick.clicker.template",extension:["clkt"]},{mime:"application/vnd.crick.clicker.wordbank",extension:["clkw"]},{mime:"application/vnd.criticaltools.wbs+xml",extension:["wbs"]},{mime:"application/vnd.ctc-posml",extension:["pml"]},{mime:"application/vnd.cups-ppd",extension:["ppd"]},{mime:"application/vnd.curl.car",extension:["car"]},{mime:"application/vnd.curl.pcurl",extension:["pcurl"]},{mime:"application/vnd.dart",extension:["dart"]},{mime:"application/vnd.data-vision.rdz",extension:["rdz"]},{mime:"application/vnd.dece.data",extension:["uvf","uvvf","uvd","uvvd"]},{mime:"application/vnd.dece.ttml+xml",extension:["uvt","uvvt"]},{mime:"application/vnd.dece.unspecified",extension:["uvx","uvvx"]},{mime:"application/vnd.dece.zip",extension:["uvz","uvvz"]},{mime:"application/vnd.denovo.fcselayout-link",extension:["fe_launch"]},{mime:"application/vnd.dna",extension:["dna"]},{mime:"application/vnd.dolby.mlp",extension:["mlp"]},{mime:"application/vnd.dpgraph",extension:["dpg"]},{mime:"application/vnd.dreamfactory",extension:["dfac"]},{mime:"application/vnd.ds-keypoint",extension:["kpxx"]},{mime:"application/vnd.dvb.ait",extension:["ait"]},{mime:"application/vnd.dvb.service",extension:["svc"]},{mime:"application/vnd.dynageo",extension:["geo"]},{mime:"application/vnd.ecowin.chart",extension:["mag"]},{mime:"application/vnd.enliven",extension:["nml"]},{mime:"application/vnd.epson.esf",extension:["esf"]},{mime:"application/vnd.epson.msf",extension:["msf"]},{mime:"application/vnd.epson.quickanime",extension:["qam"]},{mime:"application/vnd.epson.salt",extension:["slt"]},{mime:"application/vnd.epson.ssf",extension:["ssf"]},{mime:"application/vnd.eszigno3+xml",extension:["es3","et3"]},{mime:"application/vnd.ezpix-album",extension:["ez2"]},{mime:"application/vnd.ezpix-package",extension:["ez3"]},{mime:"application/vnd.fdf",extension:["fdf"]},{mime:"application/vnd.fdsn.mseed",extension:["mseed"]},{mime:"application/vnd.fdsn.seed",extension:["seed","dataless"]},{mime:"application/vnd.flographit",extension:["gph"]},{mime:"application/vnd.fluxtime.clip",extension:["ftc"]},{mime:"application/vnd.framemaker",extension:["fm","frame","maker","book"]},{mime:"application/vnd.frogans.fnc",extension:["fnc"]},{mime:"application/vnd.frogans.ltf",extension:["ltf"]},{mime:"application/vnd.fsc.weblaunch",extension:["fsc"]},{mime:"application/vnd.fujitsu.oasys",extension:["oas"]},{mime:"application/vnd.fujitsu.oasys2",extension:["oa2"]},{mime:"application/vnd.fujitsu.oasys3",extension:["oa3"]},{mime:"application/vnd.fujitsu.oasysgp",extension:["fg5"]},{mime:"application/vnd.fujitsu.oasysprs",extension:["bh2"]},{mime:"application/vnd.fujixerox.ddd",extension:["ddd"]},{mime:"application/vnd.fujixerox.docuworks",extension:["xdw"]},{mime:"application/vnd.fujixerox.docuworks.binder",extension:["xbd"]},{mime:"application/vnd.fuzzysheet",extension:["fzs"]},{mime:"application/vnd.genomatix.tuxedo",extension:["txd"]},{mime:"application/vnd.geogebra.file",extension:["ggb"]},{mime:"application/vnd.geogebra.tool",extension:["ggt"]},{mime:"application/vnd.geometry-explorer",extension:["gex","gre"]},{mime:"application/vnd.geonext",extension:["gxt"]},{mime:"application/vnd.geoplan",extension:["g2w"]},{mime:"application/vnd.geospace",extension:["g3w"]},{mime:"application/vnd.gmx",extension:["gmx"]},{mime:"application/vnd.google-earth.kml+xml",extension:["kml"]},{mime:"application/vnd.google-earth.kmz",extension:["kmz"]},{mime:"application/vnd.grafeq",
extension:["gqf","gqs"]},{mime:"application/vnd.groove-account",extension:["gac"]},{mime:"application/vnd.groove-help",extension:["ghf"]},{mime:"application/vnd.groove-identity-message",extension:["gim"]},{mime:"application/vnd.groove-injector",extension:["grv"]},{mime:"application/vnd.groove-tool-message",extension:["gtm"]},{mime:"application/vnd.groove-tool-template",extension:["tpl"]},{mime:"application/vnd.groove-vcard",extension:["vcg"]},{mime:"application/vnd.hal+xml",extension:["hal"]},{mime:"application/vnd.handheld-entertainment+xml",extension:["zmm"]},{mime:"application/vnd.hbci",extension:["hbci"]},{mime:"application/vnd.hhe.lesson-player",extension:["les"]},{mime:"application/vnd.hp-hpgl",extension:["hpgl"]},{mime:"application/vnd.hp-hpid",extension:["hpid"]},{mime:"application/vnd.hp-hps",extension:["hps"]},{mime:"application/vnd.hp-jlyt",extension:["jlt"]},{mime:"application/vnd.hp-pcl",extension:["pcl"]},{mime:"application/vnd.hp-pclxl",extension:["pclxl"]},{mime:"application/vnd.hydrostatix.sof-data",extension:["sfd-hdstx"]},{mime:"application/vnd.ibm.minipay",extension:["mpy"]},{mime:"application/vnd.ibm.modcap",extension:["afp","listafp","list3820"]},{mime:"application/vnd.ibm.rights-management",extension:["irm"]},{mime:"application/vnd.ibm.secure-container",extension:["sc"]},{mime:"application/vnd.iccprofile",extension:["icc","icm"]},{mime:"application/vnd.igloader",extension:["igl"]},{mime:"application/vnd.immervision-ivp",extension:["ivp"]},{mime:"application/vnd.immervision-ivu",extension:["ivu"]},{mime:"application/vnd.insors.igm",extension:["igm"]},{mime:"application/vnd.intercon.formnet",extension:["xpw","xpx"]},{mime:"application/vnd.intergeo",extension:["i2g"]},{mime:"application/vnd.intu.qbo",extension:["qbo"]},{mime:"application/vnd.intu.qfx",extension:["qfx"]},{mime:"application/vnd.ipunplugged.rcprofile",extension:["rcprofile"]},{mime:"application/vnd.irepository.package+xml",extension:["irp"]},{mime:"application/vnd.is-xpr",extension:["xpr"]},{mime:"application/vnd.isac.fcs",extension:["fcs"]},{mime:"application/vnd.jam",extension:["jam"]},{mime:"application/vnd.jcp.javame.midlet-rms",extension:["rms"]},{mime:"application/vnd.jisp",extension:["jisp"]},{mime:"application/vnd.joost.joda-archive",extension:["joda"]},{mime:"application/vnd.kahootz",extension:["ktz","ktr"]},{mime:"application/vnd.kde.karbon",extension:["karbon"]},{mime:"application/vnd.kde.kchart",extension:["chrt"]},{mime:"application/vnd.kde.kformula",extension:["kfo"]},{mime:"application/vnd.kde.kivio",extension:["flw"]},{mime:"application/vnd.kde.kontour",extension:["kon"]},{mime:"application/vnd.kde.kpresenter",extension:["kpr","kpt"]},{mime:"application/vnd.kde.kspread",extension:["ksp"]},{mime:"application/vnd.kde.kword",extension:["kwd","kwt"]},{mime:"application/vnd.kenameaapp",extension:["htke"]},{mime:"application/vnd.kidspiration",extension:["kia"]},{mime:"application/vnd.kinar",extension:["kne","knp"]},{mime:"application/vnd.koan",extension:["skp","skd","skt","skm"]},{mime:"application/vnd.kodak-descriptor",extension:["sse"]},{mime:"application/vnd.las.las+xml",extension:["lasxml"]},{mime:"application/vnd.llamagraphics.life-balance.desktop",extension:["lbd"]},{mime:"application/vnd.llamagraphics.life-balance.exchange+xml",extension:["lbe"]},{mime:"application/vnd.lotus-1-2-3",extension:["123"]},{mime:"application/vnd.lotus-approach",extension:["apr"]},{mime:"application/vnd.lotus-freelance",extension:["pre"]},{mime:"application/vnd.lotus-notes",extension:["nsf"]},{mime:"application/vnd.lotus-organizer",extension:["org"]},{mime:"application/vnd.lotus-screencam",extension:["scm"]},{mime:"application/vnd.lotus-wordpro",extension:["lwp"]},{mime:"application/vnd.macports.portpkg",extension:["portpkg"]},{mime:"application/vnd.mcd",extension:["mcd"]},{mime:"application/vnd.medcalcdata",extension:["mc1"]},{mime:"application/vnd.mediastation.cdkey",extension:["cdkey"]},{mime:"application/vnd.mfer",extension:["mwf"]},{mime:"application/vnd.mfmp",extension:["mfm"]},{mime:"application/vnd.micrografx.flo",extension:["flo"]},{mime:"application/vnd.micrografx.igx",extension:["igx"]},{mime:"application/vnd.mif",extension:["mif"]},{mime:"application/vnd.mobius.daf",extension:["daf"]},{mime:"application/vnd.mobius.dis",extension:["dis"]},{mime:"application/vnd.mobius.mbk",extension:["mbk"]},{mime:"application/vnd.mobius.mqy",extension:["mqy"]},{mime:"application/vnd.mobius.msl",extension:["msl"]},{mime:"application/vnd.mobius.plc",extension:["plc"]},{mime:"application/vnd.mobius.txf",extension:["txf"]},{mime:"application/vnd.mophun.application",extension:["mpn"]},{mime:"application/vnd.mophun.certificate",extension:["mpc"]},{mime:"application/vnd.mozilla.xul+xml",extension:["xul"]},{mime:"application/vnd.ms-artgalry",extension:["cil"]},{mime:"application/vnd.ms-cab-compressed",extension:["cab"]},{mime:"application/vnd.ms-excel",extension:["xls","xlm","xla","xlc","xlt","xlw"]},{mime:"application/vnd.ms-excel.addin.macroenabled.12",extension:["xlam"]},{mime:"application/vnd.ms-excel.sheet.binary.macroenabled.12",extension:["xlsb"]},{mime:"application/vnd.ms-excel.sheet.macroenabled.12",extension:["xlsm"]},{mime:"application/vnd.ms-excel.template.macroenabled.12",extension:["xltm"]},{mime:"application/vnd.ms-fontobject",extension:["eot"]},{mime:"application/vnd.ms-htmlhelp",extension:["chm"]},{mime:"application/vnd.ms-ims",extension:["ims"]},{mime:"application/vnd.ms-lrm",extension:["lrm"]},{mime:"application/vnd.ms-officetheme",extension:["thmx"]},{mime:"application/vnd.ms-pki.seccat",extension:["cat"]},{mime:"application/vnd.ms-pki.stl",extension:["stl"]},{mime:"application/vnd.ms-powerpoint",extension:["ppt","pps","pot"]},{mime:"application/vnd.ms-powerpoint.addin.macroenabled.12",extension:["ppam"]},{mime:"application/vnd.ms-powerpoint.presentation.macroenabled.12",extension:["pptm"]},{mime:"application/vnd.ms-powerpoint.slide.macroenabled.12",extension:["sldm"]},{mime:"application/vnd.ms-powerpoint.slideshow.macroenabled.12",extension:["ppsm"]},{mime:"application/vnd.ms-powerpoint.template.macroenabled.12",extension:["potm"]},{mime:"application/vnd.ms-project",extension:["mpp","mpt"]},{mime:"application/vnd.ms-word.document.macroenabled.12",extension:["docm"]},{mime:"application/vnd.ms-word.template.macroenabled.12",extension:["dotm"]},{mime:"application/vnd.ms-works",extension:["wps","wks","wcm","wdb"]},{mime:"application/vnd.ms-wpl",extension:["wpl"]},{mime:"application/vnd.ms-xpsdocument",extension:["xps"]},{mime:"application/vnd.mseq",extension:["mseq"]},{mime:"application/vnd.musician",extension:["mus"]},{mime:"application/vnd.muvee.style",extension:["msty"]},{mime:"application/vnd.mynfc",extension:["taglet"]},{mime:"application/vnd.neurolanguage.nlu",extension:["nlu"]},{mime:"application/vnd.nitf",extension:["ntf","nitf"]},{mime:"application/vnd.noblenet-directory",extension:["nnd"]},{mime:"application/vnd.noblenet-sealer",extension:["nns"]},{mime:"application/vnd.noblenet-web",extension:["nnw"]},{mime:"application/vnd.nokia.n-gage.data",extension:["ngdat"]},{mime:"application/vnd.nokia.n-gage.symbian.install",extension:["n-gage"]},{mime:"application/vnd.nokia.radio-preset",extension:["rpst"]},{mime:"application/vnd.nokia.radio-presets",extension:["rpss"]},{mime:"application/vnd.novadigm.edm",extension:["edm"]},{mime:"application/vnd.novadigm.edx",extension:["edx"]},{mime:"application/vnd.novadigm.ext",extension:["ext"]},{mime:"application/vnd.oasis.opendocument.chart",extension:["odc"]},{mime:"application/vnd.oasis.opendocument.chart-template",extension:["otc"]},{mime:"application/vnd.oasis.opendocument.database",extension:["odb"]},{mime:"application/vnd.oasis.opendocument.formula",extension:["odf"]},{mime:"application/vnd.oasis.opendocument.formula-template",extension:["odft"]},{mime:"application/vnd.oasis.opendocument.graphics",extension:["odg"]},{mime:"application/vnd.oasis.opendocument.graphics-template",extension:["otg"]},{mime:"application/vnd.oasis.opendocument.image",extension:["odi"]},{mime:"application/vnd.oasis.opendocument.image-template",extension:["oti"]},{mime:"application/vnd.oasis.opendocument.presentation",extension:["odp"]},{mime:"application/vnd.oasis.opendocument.presentation-template",extension:["otp"]},{mime:"application/vnd.oasis.opendocument.spreadsheet",extension:["ods"]},{mime:"application/vnd.oasis.opendocument.spreadsheet-template",extension:["ots"]},{mime:"application/vnd.oasis.opendocument.text",extension:["odt"]},{mime:"application/vnd.oasis.opendocument.text-master",extension:["odm"]},{mime:"application/vnd.oasis.opendocument.text-template",extension:["ott"]},{mime:"application/vnd.oasis.opendocument.text-web",extension:["oth"]},{mime:"application/vnd.olpc-sugar",extension:["xo"]},{mime:"application/vnd.oma.dd2+xml",extension:["dd2"]},{mime:"application/vnd.openofficeorg.extension",extension:["oxt"]},{mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation",extension:["pptx"]},{mime:"application/vnd.openxmlformats-officedocument.presentationml.slide",extension:["sldx"]},{mime:"application/vnd.openxmlformats-officedocument.presentationml.slideshow",extension:["ppsx"]},{mime:"application/vnd.openxmlformats-officedocument.presentationml.template",extension:["potx"]},{mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",extension:["xlsx"]},{mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",extension:["xltx"]},{mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",extension:["docx"]},{mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",extension:["dotx"]},{mime:"application/vnd.osgeo.mapguide.package",extension:["mgp"]},{mime:"application/vnd.osgi.dp",extension:["dp"]},{mime:"application/vnd.osgi.subsystem",extension:["esa"]},{mime:"application/vnd.palm",extension:["pdb","pqa","oprc"]},{mime:"application/vnd.pawaafile",extension:["paw"]},{mime:"application/vnd.pg.format",extension:["str"]},{mime:"application/vnd.pg.osasli",extension:["ei6"]},{mime:"application/vnd.picsel",extension:["efif"]},{mime:"application/vnd.pmi.widget",extension:["wg"]},{mime:"application/vnd.pocketlearn",extension:["plf"]},{mime:"application/vnd.powerbuilder6",extension:["pbd"]},{mime:"application/vnd.previewsystems.box",extension:["box"]},{mime:"application/vnd.proteus.magazine",extension:["mgz"]},{mime:"application/vnd.publishare-delta-tree",extension:["qps"]},{mime:"application/vnd.pvi.ptid1",extension:["ptid"]},{mime:"application/vnd.quark.quarkxpress",extension:["qxd","qxt","qwd","qwt","qxl","qxb"]},{mime:"application/vnd.realvnc.bed",extension:["bed"]},{mime:"application/vnd.recordare.musicxml",extension:["mxl"]},{mime:"application/vnd.recordare.musicxml+xml",extension:["musicxml"]},{mime:"application/vnd.rig.cryptonote",extension:["cryptonote"]},{mime:"application/vnd.rim.cod",extension:["cod"]},{mime:"application/vnd.rn-realmedia",extension:["rm"]},{mime:"application/vnd.rn-realmedia-vbr",extension:["rmvb"]},{mime:"application/vnd.route66.link66+xml",extension:["link66"]},{mime:"application/vnd.sailingtracker.track",extension:["st"]},{mime:"application/vnd.seemail",extension:["see"]},{mime:"application/vnd.sema",extension:["sema"]},{mime:"application/vnd.semd",extension:["semd"]},{mime:"application/vnd.semf",extension:["semf"]},{mime:"application/vnd.shana.informed.formdata",extension:["ifm"]},{mime:"application/vnd.shana.informed.formtemplate",extension:["itp"]},{mime:"application/vnd.shana.informed.interchange",extension:["iif"]},{mime:"application/vnd.shana.informed.package",extension:["ipk"]},{mime:"application/vnd.simtech-mindmapper",extension:["twd","twds"]},{mime:"application/vnd.smaf",extension:["mmf"]},{mime:"application/vnd.smart.teacher",extension:["teacher"]},{mime:"application/vnd.solent.sdkm+xml",extension:["sdkm","sdkd"]},{mime:"application/vnd.spotfire.dxp",extension:["dxp"]},{mime:"application/vnd.spotfire.sfs",extension:["sfs"]},{mime:"application/vnd.stardivision.calc",extension:["sdc"]},{mime:"application/vnd.stardivision.draw",extension:["sda"]},{mime:"application/vnd.stardivision.impress",extension:["sdd"]},{mime:"application/vnd.stardivision.math",extension:["smf"]},{mime:"application/vnd.stardivision.writer",extension:["sdw","vor"]},{mime:"application/vnd.stardivision.writer-global",extension:["sgl"]},{mime:"application/vnd.stepmania.package",extension:["smzip"]},{mime:"application/vnd.stepmania.stepchart",extension:["sm"]},{mime:"application/vnd.sun.xml.calc",extension:["sxc"]},{mime:"application/vnd.sun.xml.calc.template",extension:["stc"]},{mime:"application/vnd.sun.xml.draw",extension:["sxd"]},{mime:"application/vnd.sun.xml.draw.template",extension:["std"]},{mime:"application/vnd.sun.xml.impress",extension:["sxi"]},{mime:"application/vnd.sun.xml.impress.template",extension:["sti"]},{mime:"application/vnd.sun.xml.math",extension:["sxm"]},{mime:"application/vnd.sun.xml.writer",extension:["sxw"]},{mime:"application/vnd.sun.xml.writer.global",extension:["sxg"]},{mime:"application/vnd.sun.xml.writer.template",extension:["stw"]},{mime:"application/vnd.sus-calendar",extension:["sus","susp"]},{mime:"application/vnd.svd",extension:["svd"]},{mime:"application/vnd.symbian.install",extension:["sis","sisx"]},{mime:"application/vnd.syncml+xml",extension:["xsm"]},{mime:"application/vnd.syncml.dm+wbxml",extension:["bdm"]},{mime:"application/vnd.syncml.dm+xml",extension:["xdm"]},{mime:"application/vnd.tao.intent-module-archive",extension:["tao"]},{mime:"application/vnd.tcpdump.pcap",extension:["pcap","cap","dmp"]},{mime:"application/vnd.tmobile-livetv",extension:["tmo"]},{mime:"application/vnd.trid.tpt",extension:["tpt"]},{mime:"application/vnd.triscape.mxs",extension:["mxs"]},{mime:"application/vnd.trueapp",extension:["tra"]},{mime:"application/vnd.ufdl",extension:["ufd","ufdl"]},{mime:"application/vnd.uiq.theme",extension:["utz"]},{mime:"application/vnd.umajin",extension:["umj"]},{mime:"application/vnd.unity",extension:["unityweb"]},{mime:"application/vnd.uoml+xml",extension:["uoml"]},{mime:"application/vnd.vcx",extension:["vcx"]},{mime:"application/vnd.visio",extension:["vsd","vst","vss","vsw"]},{mime:"application/vnd.visionary",extension:["vis"]},{mime:"application/vnd.vsf",extension:["vsf"]},{mime:"application/vnd.wap.wbxml",extension:["wbxml"]},{mime:"application/vnd.wap.wmlc",extension:["wmlc"]},{mime:"application/vnd.wap.wmlscriptc",extension:["wmlsc"]},{mime:"application/vnd.webturbo",extension:["wtb"]},{mime:"application/vnd.wolfram.player",extension:["nbp"]},{mime:"application/vnd.wordperfect",extension:["wpd"]},{mime:"application/vnd.wqd",extension:["wqd"]},{mime:"application/vnd.wt.stf",extension:["stf"]},{mime:"application/vnd.xara",extension:["xar"]},{mime:"application/vnd.xfdl",extension:["xfdl"]},{mime:"application/vnd.yamaha.hv-dic",extension:["hvd"]},{mime:"application/vnd.yamaha.hv-script",extension:["hvs"]},{mime:"application/vnd.yamaha.hv-voice",extension:["hvp"]},{mime:"application/vnd.yamaha.openscoreformat",extension:["osf"]},{mime:"application/vnd.yamaha.openscoreformat.osfpvg+xml",extension:["osfpvg"]},{mime:"application/vnd.yamaha.smaf-audio",extension:["saf"]},{mime:"application/vnd.yamaha.smaf-phrase",extension:["spf"]},{mime:"application/vnd.yellowriver-custom-menu",extension:["cmp"]},{mime:"application/vnd.zul",extension:["zir","zirz"]},{mime:"application/vnd.zzazz.deck+xml",extension:["zaz"]},{mime:"application/voicexml+xml",extension:["vxml"]},{mime:"application/widget",extension:["wgt"]},{mime:"application/winhlp",extension:["hlp"]},{mime:"application/wsdl+xml",extension:["wsdl"]},{mime:"application/wspolicy+xml",extension:["wspolicy"]},{mime:"application/x-7z-compressed",extension:["7z"]},{mime:"application/x-abiword",extension:["abw"]},{mime:"application/x-ace-compressed",extension:["ace"]},{mime:"application/x-apple-diskimage",extension:["dmg"]},{mime:"application/x-authorware-bin",extension:["aab","x32","u32","vox"]},{mime:"application/x-authorware-map",extension:["aam"]},{mime:"application/x-authorware-seg",extension:["aas"]},{mime:"application/x-bcpio",extension:["bcpio"]},{mime:"application/x-bittorrent",extension:["torrent"]},{mime:"application/x-blorb",extension:["blb","blorb"]},{mime:"application/x-bzip",extension:["bz"]},{mime:"application/x-bzip2",extension:["bz2","boz"]},{mime:"application/x-cbr",extension:["cbr","cba","cbt","cbz","cb7"]},{mime:"application/x-cdlink",extension:["vcd"]},{mime:"application/x-cfs-compressed",extension:["cfs"]},{mime:"application/x-chat",extension:["chat"]},{mime:"application/x-chess-pgn",extension:["pgn"]},{mime:"application/x-conference",extension:["nsc"]},{mime:"application/x-cpio",extension:["cpio"]},{mime:"application/x-csh",extension:["csh"]},{mime:"application/x-debian-package",extension:["deb","udeb"]},{mime:"application/x-dgc-compressed",extension:["dgc"]},{mime:"application/x-director",extension:["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},{mime:"application/x-doom",extension:["wad"]},{mime:"application/x-dtbncx+xml",extension:["ncx"]},{mime:"application/x-dtbook+xml",extension:["dtb"]},{mime:"application/x-dtbresource+xml",extension:["res"]},{mime:"application/x-dvi",extension:["dvi"]},{mime:"application/x-envoy",extension:["evy"]},{mime:"application/x-eva",extension:["eva"]},{mime:"application/x-font-bdf",extension:["bdf"]},{mime:"application/x-font-ghostscript",extension:["gsf"]},{mime:"application/x-font-linux-psf",extension:["psf"]},{mime:"application/x-font-otf",extension:["otf"]},{mime:"application/x-font-pcf",extension:["pcf"]},{mime:"application/x-font-snf",extension:["snf"]},{mime:"application/x-font-ttf",extension:["ttf","ttc"]},{mime:"application/x-font-type1",extension:["pfa","pfb","pfm","afm"]},{mime:"application/x-font-woff",extension:["woff"]},{mime:"application/x-freearc",extension:["arc"]},{mime:"application/x-futuresplash",extension:["spl"]},{mime:"application/x-gca-compressed",extension:["gca"]},{mime:"application/x-glulx",extension:["ulx"]},{mime:"application/x-gnumeric",extension:["gnumeric"]},{mime:"application/x-gramps-xml",extension:["gramps"]},{mime:"application/x-gtar",extension:["gtar"]},{mime:"application/x-hdf",extension:["hdf"]},{mime:"application/x-install-instructions",extension:["install"]},{mime:"application/x-iso9660-image",extension:["iso"]},{mime:"application/x-java-jnlp-file",extension:["jnlp"]},{mime:"application/x-latex",extension:["latex"]},{mime:"application/x-lzh-compressed",extension:["lzh","lha"]},{mime:"application/x-mie",extension:["mie"]},{mime:"application/x-mobipocket-ebook",extension:["prc","mobi"]},{mime:"application/x-ms-application",extension:["application"]},{mime:"application/x-ms-shortcut",extension:["lnk"]},{mime:"application/x-ms-wmd",extension:["wmd"]},{mime:"application/x-ms-wmz",extension:["wmz"]},{mime:"application/x-ms-xbap",extension:["xbap"]},{mime:"application/x-msaccess",extension:["mdb"]},{mime:"application/x-msbinder",extension:["obd"]},{mime:"application/x-mscardfile",extension:["crd"]},{mime:"application/x-msclip",extension:["clp"]},{mime:"application/x-msdownload",extension:["exe","dll","com","bat","msi"]},{mime:"application/x-msmediaview",extension:["mvb","m13","m14"]},{mime:"application/x-msmetafile",extension:["wmf","wmz","emf","emz"]},{mime:"application/x-msmoney",extension:["mny"]},{mime:"application/x-mspublisher",extension:["pub"]},{mime:"application/x-msschedule",extension:["scd"]},{mime:"application/x-msterminal",extension:["trm"]},{mime:"application/x-mswrite",extension:["wri"]},{mime:"application/x-netcdf",extension:["nc","cdf"]},{mime:"application/x-nzb",extension:["nzb"]},{mime:"application/x-pkcs12",extension:["p12","pfx"]},{mime:"application/x-pkcs7-certificates",extension:["p7b","spc"]},{mime:"application/x-pkcs7-certreqresp",extension:["p7r"]},{mime:"application/x-rar-compressed",extension:["rar"]},{mime:"application/x-research-info-systems",extension:["ris"]},{mime:"application/x-sh",extension:["sh"]},{mime:"application/x-shar",extension:["shar"]},{mime:"application/x-shockwave-flash",extension:["swf"]},{mime:"application/x-silverlight-app",extension:["xap"]},{mime:"application/x-sql",extension:["sql"]},{mime:"application/x-stuffit",extension:["sit"]},{mime:"application/x-stuffitx",extension:["sitx"]},{mime:"application/x-subrip",extension:["srt"]},{mime:"application/x-sv4cpio",extension:["sv4cpio"]},{mime:"application/x-sv4crc",extension:["sv4crc"]},{mime:"application/x-t3vm-image",extension:["t3"]},{mime:"application/x-tads",extension:["gam"]},{mime:"application/x-tar",extension:["tar"]},{mime:"application/x-tcl",extension:["tcl"]},{mime:"application/x-tex",extension:["tex"]},{mime:"application/x-tex-tfm",extension:["tfm"]},{mime:"application/x-texinfo",extension:["texinfo","texi"]},{mime:"application/x-tgif",extension:["obj"]},{mime:"application/x-ustar",extension:["ustar"]},{mime:"application/x-wais-source",extension:["src"]},{mime:"application/x-x509-ca-cert",extension:["der","crt"]},{mime:"application/x-xfig",extension:["fig"]},{mime:"application/x-xliff+xml",extension:["xlf"]},{mime:"application/x-xpinstall",extension:["xpi"]},{mime:"application/x-xz",extension:["xz"]},{mime:"application/x-zmachine",extension:["z1","z2","z3","z4","z5","z6","z7","z8"]},{mime:"application/xaml+xml",extension:["xaml"]},{mime:"application/xcap-diff+xml",extension:["xdf"]},{mime:"application/xenc+xml",extension:["xenc"]},{mime:"application/xhtml+xml",extension:["xhtml","xht"]},{mime:"application/xml",extension:["xml","xsl"]},{mime:"application/xml-dtd",extension:["dtd"]},{mime:"application/xop+xml",extension:["xop"]},{mime:"application/xproc+xml",extension:["xpl"]},{mime:"application/xslt+xml",extension:["xslt"]},{mime:"application/xspf+xml",extension:["xspf"]},{mime:"application/xv+xml",extension:["mxml","xhvml","xvml","xvm"]},{mime:"application/yang",extension:["yang"]},{mime:"application/yin+xml",extension:["yin"]},{mime:"application/zip",extension:["zip"]},{mime:"audio/adpcm",extension:["adp"]},{mime:"audio/basic",extension:["au","snd"]},{mime:"audio/midi",extension:["mid","midi","kar","rmi"]},{mime:"audio/mp4",extension:["mp4a"]},{mime:"audio/mpeg",extension:["mpga","mp2","mp2a","mp3","m2a","m3a"]},{mime:"audio/ogg",extension:["oga","ogg","spx"]},{mime:"audio/s3m",extension:["s3m"]},{mime:"audio/silk",extension:["sil"]},{mime:"audio/vnd.dece.audio",extension:["uva","uvva"]},{mime:"audio/vnd.digital-winds",extension:["eol"]},{mime:"audio/vnd.dra",extension:["dra"]},{mime:"audio/vnd.dts",extension:["dts"]},{mime:"audio/vnd.dts.hd",extension:["dtshd"]},{mime:"audio/vnd.lucent.voice",extension:["lvp"]},{mime:"audio/vnd.ms-playready.media.pya",extension:["pya"]},{mime:"audio/vnd.nuera.ecelp4800",extension:["ecelp4800"]},{mime:"audio/vnd.nuera.ecelp7470",extension:["ecelp7470"]},{mime:"audio/vnd.nuera.ecelp9600",extension:["ecelp9600"]},{mime:"audio/vnd.rip",extension:["rip"]},{mime:"audio/webm",extension:["weba"]},{mime:"audio/x-aac",extension:["aac"]},{mime:"audio/x-aiff",extension:["aif","aiff","aifc"]},{mime:"audio/x-caf",extension:["caf"]},{mime:"audio/x-flac",extension:["flac"]},{mime:"audio/x-matroska",extension:["mka"]},{mime:"audio/x-mpegurl",extension:["m3u"]},{mime:"audio/x-ms-wax",extension:["wax"]},{mime:"audio/x-ms-wma",extension:["wma"]},{mime:"audio/x-pn-realaudio",extension:["ram","ra"]},{mime:"audio/x-pn-realaudio-plugin",extension:["rmp"]},{mime:"audio/x-wav",extension:["wav"]},{mime:"audio/xm",extension:["xm"]},{mime:"chemical/x-cdx",extension:["cdx"]},{mime:"chemical/x-cif",extension:["cif"]},{mime:"chemical/x-cmdf",extension:["cmdf"]},{mime:"chemical/x-cml",extension:["cml"]},{mime:"chemical/x-csml",extension:["csml"]},{mime:"chemical/x-xyz",extension:["xyz"]},{mime:"image/bmp",extension:["bmp"]},{mime:"image/cgm",extension:["cgm"]},{mime:"image/g3fax",extension:["g3"]},{mime:"image/gif",extension:["gif"]},{mime:"image/ief",extension:["ief"]},{mime:"image/jpeg",extension:["jpeg","jpg","jpe"]},{mime:"image/ktx",extension:["ktx"]},{mime:"image/png",extension:["png"]},{mime:"image/prs.btif",extension:["btif"]},{mime:"image/sgi",extension:["sgi"]},{mime:"image/svg+xml",extension:["svg","svgz"]},{mime:"image/tiff",extension:["tiff","tif"]},{mime:"image/vnd.adobe.photoshop",extension:["psd"]},{mime:"image/vnd.dece.graphic",extension:["uvi","uvvi","uvg","uvvg"]},{mime:"image/vnd.dvb.subtitle",extension:["sub"]},{mime:"image/vnd.djvu",extension:["djvu","djv"]},{mime:"image/vnd.dwg",extension:["dwg"]},{mime:"image/vnd.dxf",extension:["dxf"]},{mime:"image/vnd.fastbidsheet",extension:["fbs"]},{mime:"image/vnd.fpx",extension:["fpx"]},{mime:"image/vnd.fst",extension:["fst"]},{mime:"image/vnd.fujixerox.edmics-mmr",extension:["mmr"]},{mime:"image/vnd.fujixerox.edmics-rlc",extension:["rlc"]},{mime:"image/vnd.ms-modi",extension:["mdi"]},{mime:"image/vnd.ms-photo",extension:["wdp"]},{mime:"image/vnd.net-fpx",extension:["npx"]},{mime:"image/vnd.wap.wbmp",extension:["wbmp"]},{mime:"image/vnd.xiff",extension:["xif"]},{mime:"image/webp",extension:["webp"]},{mime:"image/x-3ds",extension:["3ds"]},{mime:"image/x-cmu-raster",extension:["ras"]},{mime:"image/x-cmx",extension:["cmx"]},{mime:"image/x-freehand",extension:["fh","fhc","fh4","fh5","fh7"]},{mime:"image/x-icon",extension:["ico"]},{mime:"image/x-mrsid-image",extension:["sid"]},{mime:"image/x-pcx",extension:["pcx"]},{mime:"image/x-pict",extension:["pic","pct"]},{mime:"image/x-portable-anymap",extension:["pnm"]},{mime:"image/x-portable-bitmap",extension:["pbm"]},{mime:"image/x-portable-graymap",extension:["pgm"]},{mime:"image/x-portable-pixmap",extension:["ppm"]},{mime:"image/x-rgb",extension:["rgb"]},{mime:"image/x-tga",extension:["tga"]},{mime:"image/x-xbitmap",extension:["xbm"]},{mime:"image/x-xpixmap",extension:["xpm"]},{mime:"image/x-xwindowdump",extension:["xwd"]},{mime:"message/rfc822",extension:["eml","mime"]},{mime:"model/iges",extension:["igs","iges"]},{mime:"model/mesh",extension:["msh","mesh","silo"]},{mime:"model/vnd.collada+xml",extension:["dae"]},{mime:"model/vnd.dwf",extension:["dwf"]},{mime:"model/vnd.gdl",extension:["gdl"]},{mime:"model/vnd.gtw",extension:["gtw"]},{mime:"model/vnd.mts",extension:["mts"]},{mime:"model/vnd.vtu",extension:["vtu"]},{mime:"model/vrml",extension:["wrl","vrml"]},{mime:"model/x3d+binary",extension:["x3db","x3dbz"]},{mime:"model/x3d+vrml",extension:["x3dv","x3dvz"]},{mime:"model/x3d+xml",extension:["x3d","x3dz"]},{mime:"text/cache-manifest",extension:["appcache"]},{mime:"text/calendar",extension:["ics","ifb"]},{mime:"text/css",extension:["css"]},{mime:"text/csv",extension:["csv"]},{mime:"text/html",extension:["html","htm"]},{mime:"text/n3",extension:["n3"]},{mime:"text/plain",extension:["txt","text","conf","def","list","log","in"]},{mime:"text/prs.lines.tag",extension:["dsc"]},{mime:"text/richtext",extension:["rtx"]},{mime:"text/sgml",extension:["sgml","sgm"]},{mime:"text/tab-separated-values",extension:["tsv"]},{mime:"text/troff",extension:["t","tr","roff","man","me","ms"]},{mime:"text/turtle",extension:["ttl"]},{mime:"text/uri-list",extension:["uri","uris","urls"]},{mime:"text/vcard",extension:["vcard"]},{mime:"text/vnd.curl",extension:["curl"]},{mime:"text/vnd.curl.dcurl",extension:["dcurl"]},{mime:"text/vnd.curl.scurl",extension:["scurl"]},{mime:"text/vnd.curl.mcurl",extension:["mcurl"]},{mime:"text/vnd.dvb.subtitle",extension:["sub"]},{mime:"text/vnd.fly",extension:["fly"]},{mime:"text/vnd.fmi.flexstor",extension:["flx"]},{mime:"text/vnd.graphviz",extension:["gv"]},{mime:"text/vnd.in3d.3dml",extension:["3dml"]},{mime:"text/vnd.in3d.spot",extension:["spot"]},{mime:"text/vnd.sun.j2me.app-descriptor",extension:["jad"]},{mime:"text/vnd.wap.wml",extension:["wml"]},{mime:"text/vnd.wap.wmlscript",extension:["wmls"]},{mime:"text/x-asm",extension:["s","asm"]},{mime:"text/x-c",extension:["c","cc","cxx","cpp","h","hh","dic"]},{mime:"text/x-fortran",extension:["f","for","f77","f90"]},{mime:"text/x-java-source",extension:["java"]},{mime:"text/x-opml",extension:["opml"]},{mime:"text/x-pascal",extension:["p","pas"]},{mime:"text/x-nfo",extension:["nfo"]},{mime:"text/x-setext",extension:["etx"]},{mime:"text/x-sfv",extension:["sfv"]},{mime:"text/x-uuencode",extension:["uu"]},{mime:"text/x-vcalendar",extension:["vcs"]},{mime:"text/x-vcard",extension:["vcf"]},{mime:"video/3gpp",extension:["3gp"]},{mime:"video/3gpp2",extension:["3g2"]},{mime:"video/h261",extension:["h261"]},{mime:"video/h263",extension:["h263"]},{mime:"video/h264",extension:["h264"]},{mime:"video/jpeg",extension:["jpgv"]},{mime:"video/jpm",extension:["jpm","jpgm"]},{mime:"video/mj2",extension:["mj2","mjp2"]},{mime:"video/mp4",extension:["mp4","mp4v","mpg4"]},{mime:"video/mpeg",extension:["mpeg","mpg","mpe","m1v","m2v"]},{mime:"video/ogg",extension:["ogv"]},{mime:"video/quicktime",extension:["qt","mov"]},{mime:"video/vnd.dece.hd",extension:["uvh","uvvh"]},{mime:"video/vnd.dece.mobile",extension:["uvm","uvvm"]},{mime:"video/vnd.dece.pd",extension:["uvp","uvvp"]},{mime:"video/vnd.dece.sd",extension:["uvs","uvvs"]},{mime:"video/vnd.dece.video",extension:["uvv","uvvv"]},{mime:"video/vnd.dvb.file",extension:["dvb"]},{mime:"video/vnd.fvt",extension:["fvt"]},{mime:"video/vnd.mpegurl",extension:["mxu","m4u"]},{mime:"video/vnd.ms-playready.media.pyv",extension:["pyv"]},{mime:"video/vnd.uvvu.mp4",extension:["uvu","uvvu"]},{mime:"video/vnd.vivo",extension:["viv"]},{mime:"video/webm",extension:["webm"]},{mime:"video/x-f4v",extension:["f4v"]},{mime:"video/x-fli",extension:["fli"]},{mime:"video/x-flv",extension:["flv"]},{mime:"video/x-m4v",extension:["m4v"]},{mime:"video/x-matroska",extension:["mkv","mk3d","mks"]},{mime:"video/x-mng",extension:["mng"]},{mime:"video/x-ms-asf",extension:["asf","asx"]},{mime:"video/x-ms-vob",extension:["vob"]},{mime:"video/x-ms-wm",extension:["wm"]},{mime:"video/x-ms-wmv",extension:["wmv"]},{mime:"video/x-ms-wmx",extension:["wmx"]},{mime:"video/x-ms-wvx",extension:["wvx"]},{mime:"video/x-msvideo",extension:["avi"]},{mime:"video/x-sgi-movie",extension:["movie"]},{mime:"video/x-smv",extension:["smv"]},{mime:"x-conference/x-cooltalk",extension:["ice"]}];return a}function l(a,b,c){return this.category=a,this.variable=b,this.label=c?c:void 0,this.startTime,this.endTime,this}var m={hostUrl:"",credentials:null,connectionModel:null,getWebApiToken:function(){var a=j(g());return a},setModel:h,getModel:g};return l.prototype.startTime=function(){return this.startTime=(new Date).getTime(),this},l.prototype.endTime=function(){return this.endTime=(new Date).getTime(),this},l.prototype.send=function(){var a=this.endTime-this.startTime,b=f();return b?(b.registerTiming({timingCategory:this.category,timingVar:this.variable,timingValue:a,timingLabel:this.label}),this):void 0},{getVersion:function(){return d},getMimeTypeForExt:function(a){if(!a)return"";var b=a.split("."),c=b[b.length-1].toLowerCase();if(!c)return"";var d=_.find(k(),function(a){return-1!=a.extension.indexOf(c)});return d?d.mime:""},getExtensionsForMimeType:function(a){if(!a)return[];a=a.toLowerCase();var b=_.find(k(),function(b){return b.mime==a});return b?b.extension:[]},getGA:f,getWebApiToken:function(){return m.getWebApiToken()},getClientSession:function(){return m},getUserMessage:i,sessionClosed:function(){m.setModel(null)},trackTimer:function(a,b,c){return new l(a,b,c)},sessionOpened:function(a,c){try{m.setModel(a.Model),m.credentials=c;var d=f();angular.isDefined(d)&&d.registerEventTrack({category:"AUTH",action:"LOGIN",label:a.Model.GID}),b.info("LOGIN User ",a.Model.Name)}catch(e){throw b.error(e),e}}}}]),e.run(["esGlobals","esWebApi",function(a,b){var c=a.getClientSession();c.getModel(),c.hostUrl=b.getServerUrl()}])}(),function(){"use strict";var a=angular.module("es.Services.Web");a.factory("esStackTrace",function(){return{print:printStackTrace}}),a.provider("$log",function(){function a(){return log4javascript.getLogger("esLogger")}function b(a){d(new log4javascript.BrowserConsoleAppender);var b=angular.isDefined(a)&&a;b&&d(new log4javascript.PopUpAppender);
}function c(a,b){if(f){i&&a&&a.connectionModel&&(i.setCustomField("userId",a.connectionModel.UserID),a.credentials&&(i.setCustomField("branchId",a.credentials.BranchID),i.setCustomField("langId",a.credentials.LangID)));var c=f.getHeaders();if(c){var d,e=-1;for(d=0;d<c.length;d++)if("Authorization"==c[d].name){e=d;break}-1!=e&&c.splice(e,1)}b&&""!=b&&f.addHeader("Authorization",b)}}function d(a){return-1==e.indexOf(a)?(e.push(a),!0):!1}var e=[],f=null,g=null,h=log4javascript.Level.ALL,i=null;return{setLevel:function(a){h=a,g&&g.setLevel(h)},getLevel:function(){return h},getCurrentLevel:function(){return g?g.getEffectiveLevel():log4javascript.Level.OFF},addAppender:d,addDefaultAppenders:b,addESWebApiAppender:function(a,b){var c=a+"api/rpc/registerException/";return f=new log4javascript.AjaxAppender(c,!1),f.setSendAllOnUnload(!0),i=new log4javascript.JsonLayout,i.setCustomField("subscriptionId",b),f.setLayout(i),f.setWaitForResponse(!0),f.setBatchSize(100),f.setTimed(!0),f.setTimerInterval(6e4),f.addHeader("Content-Type","application/json"),f.setRequestSuccessCallback(function(a){console.log("ES Logger, BATCH of logs upoloaded",a.responseURL,a.status)}),f.setFailCallback(function(a){console.error("Failed to POST Logs to the server",a)}),d(f)},$get:["esMessaging",function(d){try{g=a(),g.setLevel(h),0==e.length&&b();var i=0;for(i=0;i<e.length;i++)g.addAppender(e[i]);return d.subscribe("AUTH_CHANGED",function(a,b){c(a,b)}),g.sendAll=function(){try{f&&f.sendAll()}catch(a){}},console.info("ES Logger started"),g}catch(j){return console.log("Error in starting entersoft logger",j),$log}}]}}),a.provider("$exceptionHandler",function(){var a={pushToServer:!1,logServer:""};return{getSettings:function(){return a},setPushToServer:function(b){a.pushToServer=b},setLogServer:function(b){a.logServer=b},$get:["$log","$window","esStackTrace","$injector",function(b,c,d,e){function f(f,g){var h,i,j;try{h=f.toString(),i=d.print({e:f}),j={errorUrl:c.location.href,errorMessage:h,stackTrace:i,cause:g||""},b.error(JSON.stringify(j,null,"	"))}catch(k){console.log(arguments)}if(a.pushToServer)try{var l=e.get("esWebApi");l.registerException(j,a.logServer)}catch(k){b.warn("ES Error in registerException on store "+a.logServer),b.error(k)}}return f}]}})}(),function(){"use strict";function ESParamVal(a,b){this.paramCode=a,this.paramValue=b}function ESNumericParamVal(a,b){ESParamVal.call(this,a,b)}function ESStringParamVal(a,b){ESParamVal.call(this,a,b)}function ESDateParamVal(a,b){b||(b={dRange:"ESDateRange(SpecificDate, #9999/01/01#, SpecificDate, #1753/01/01#)",fromD:null,toD:null}),ESParamVal.call(this,a,b)}function ESParamValues(a){this.setParamValues(a)}function prepareStdZoom(a,b,c,d){var e={transport:{read:function(e){a.info("FETCHing ZOOM data for [",b,"] with options ",JSON.stringify(e));var f={};c.fetchStdZoom(b,f,d).then(function(c){var d=c.data;-1==d.Count&&(d.Count=d.Rows?d.Rows.length:0),e.success(d),a.info("FETCHed ZOOM data for [",b,"] with options ",JSON.stringify(e))},function(a){e.error(a)})}},schema:{data:"Rows",total:"Count"}};return new kendo.data.DataSource(e)}function prepareWebScroller(a,b,c,d,e){var f={transport:{read:function(a){var e=angular.isFunction(d)?d():d;c.info("FETCHing PQ with PQParams ",JSON.stringify(e)," and gridoptions ",JSON.stringify(a));var f={};a.data&&a.data.page&&a.data.pageSize&&(f.WithCount=!0,f.Page=a.data.page,f.PageSize=a.data.pageSize);var g=e.Params;g instanceof ESParamValues&&(g=g.getExecuteVals()),b.fetchPublicQuery(e.GroupID,e.FilterID,f,g).success(function(b){angular.isDefined(b.Rows)||(b.Rows=[],b.Count=0),angular.isDefined(b.Count)||(b.Count=-1),a.success(b),c.info("FETCHed PQ with PQParams ",JSON.stringify(g)," and gridoptions ",JSON.stringify(a))}).error(function(b){c.error("Error in DataSource ",b),a.error(b)})}},requestStart:function(a){c.info("request started ",a)},schema:{data:"Rows",total:"Count"}};return e&&angular.extend(f,e),a&&"pivot"===a?new kendo.data.PivotDataSource(f):new kendo.data.DataSource(f)}var esWEBUI=angular.module("es.Web.UI",["ui.bootstrap"]),dateRangeResolve=function(a){if(!a||!a.dRange)return"";var b=new Date,c=_.findWhere(esDateRangeOptions,{dValue:a.dRange});if(!c)return"";switch(c.dType){case 0:if(!angular.isDate(a.fromD)&&!angular.isDate(a.toD))return"";var d="";angular.isDate(a.fromD)&&(d=a.fromD.toLocaleDateString("el-GR")),d+=" - ";var e="";return angular.isDate(a.toD)&&(e=a.toD.toLocaleDateString("el-GR")),d+=e;case 1:return angular.isDate(a.fromD)?a.fromD.toLocaleDateString("el-GR"):"";case 2:return"";case 3:return b.toLocaleDateString("el-GR");case 4:return"-> "+b.toLocaleDateString("el-GR");case 5:return b.toLocaleDateString("el-GR")+" ->";case 6:return b.setDate(b.getDate()-1),b.toLocaleDateString("el-GR");case 7:return b.setDate(b.getDate()-1),b.toLocaleDateString("el-GR")+" ->";case 8:return b.setDate(b.getDate()+1),b.toLocaleDateString("el-GR");case 9:return b.setDate(b.getDate()+1),b.toLocaleDateString("el-GR")+" ->";case 10:var f=b.getDay(),g=0==f?6:f-1,h=new Date(b),i=new Date(b);return h.setDate(b.getDate()-g),i.setDate(h.getDate()+6),h.toLocaleDateString("el-GR")+" - "+i.toLocaleDateString("el-GR");case 11:b.setDate(b.getDate()-7);var f=b.getDay(),g=0==f?6:f-1,h=new Date(b),i=new Date(b);return h.setDate(b.getDate()-g),i.setDate(h.getDate()+6),h.toLocaleDateString("el-GR")+" - "+i.toLocaleDateString("el-GR");case 12:b.setDate(b.getDate()+7);var f=b.getDay(),g=0==f?6:f-1,h=new Date(b),i=new Date(b);return h.setDate(b.getDate()-g),i.setDate(h.getDate()+6),h.toLocaleDateString("el-GR")+" - "+i.toLocaleDateString("el-GR");case 13:b.setDate(1);var h=new Date(b.getFullYear(),b.getMonth()+1,0);return b.toLocaleDateString("el-GR")+" - "+h.toLocaleDateString("el-GR");case 14:return b.setDate(1),b.toLocaleDateString("el-GR")+" ->";case 15:var h=new Date(b.getFullYear(),b.getMonth()+1,0);return"-> "+h.toLocaleDateString("el-GR");case 16:var h=new Date(b.getFullYear(),b.getMonth()-1,1),i=new Date(b.getFullYear(),b.getMonth(),0);return h.toLocaleDateString("el-GR")+" - "+i.toLocaleDateString("el-GR");case 17:var h=new Date(b.getFullYear(),b.getMonth()-1,1);return h.toLocaleDateString("el-GR")+" ->";case 18:var h=new Date(b.getFullYear(),b.getMonth(),0);return"-> "+h.toLocaleDateString("el-GR");case 19:var j=b.getMonth(),k=j%3,h=new Date(b.getFullYear(),j-k,1),i=new Date(b.getFullYear(),j+(3-k),0);return h.toLocaleDateString("el-GR")+" -> "+i.toLocaleDateString("el-GR");case 20:var j=b.getMonth(),k=j%3,i=new Date(b.getFullYear(),j-k,0),h=new Date(b.getFullYear(),i.getMonth()-2,1);return h.toLocaleDateString("el-GR")+" -> "+i.toLocaleDateString("el-GR");case 21:var h=new Date(b.getFullYear(),j>=6?6:0,1),i=new Date(b.getFullYear(),j>=6?11:5,j>=6?31:30);return h.toLocaleDateString("el-GR")+" -> "+i.toLocaleDateString("el-GR");case 22:var h,i,l=b.getFullYear();return j>=6?(h=new Date(l,0,1),i=new Date(l,5,30)):(h=new Date(l-1,6,1),i=new Date(l-1,11,31)),h.toLocaleDateString("el-GR")+" -> "+i.toLocaleDateString("el-GR");case 23:var l=b.getFullYear(),h=new Date(l,0,1),i=new Date(l,11,31);return h.toLocaleDateString("el-GR")+" -> "+i.toLocaleDateString("el-GR");case 24:var l=b.getFullYear()-1,h=new Date(l,0,1),i=new Date(l,11,31);return h.toLocaleDateString("el-GR")+" -> "+i.toLocaleDateString("el-GR");default:return c.title}},esComplexParamFunctionOptions=[{caption:"",value:"EQ"},{caption:"",value:"NE"},{caption:"",value:"LT"},{caption:"  ",value:"LE"},{caption:"",value:"GT"},{caption:"  ",value:"GE"},{caption:" - ",value:"RANGE"},{caption:"",value:"NULL"},{caption:" ",value:"NOTNULL"}],dDateRangeClass={6:[0,1,2,3,6,8,10,11,12,13,16,19,20,21,22,23,24],20:[0,1,25,26,27,28,29,30]},esDateRangeOptions=[{dValue:"0",dType:0,title:"Specific Date Range"},{dValue:"1",dType:1,title:"Specific Date"},{dValue:"ESDateRange(SpecificDate, #9999/01/01#, SpecificDate, #1753/01/01#)",dType:2,title:"Anything"},{dValue:"ESDateRange(Day)",dType:3,title:"Today"},{dValue:"ESDateRange(SpecificDate, #1753/01/01#, Day, 0)",dType:4,title:"Up Today"},{dValue:"ESDateRange(Day, 0, SpecificDate, #9999/01/01#)",dType:5,title:"Starting from Today"},{dValue:"ESDateRange(Day, -1)",dType:6,title:"Yesterday"},{dValue:"ESDateRange(SpecificDate, #1753/01/01#, Day, -1)",dType:7,title:"Up To Yesterday"},{dValue:"ESDateRange(Day, 1)",dType:8,title:"Tomorrow"},{dValue:"ESDateRange(Day, 1, SpecificDate, #9999/01/01#)",dType:9,title:"Starting from Tomorrow"},{dValue:"ESDateRange(Week)",dType:10,title:"Current week"},{dValue:"ESDateRange(Week, -1)",dType:11,title:"Previous week"},{dValue:"ESDateRange(Week, 1)",dType:12,title:"Next week"},{dValue:"ESDateRange(Month)",dType:13,title:"Current month"},{dValue:"ESDateRange(Month, 0, SpecificDate, #9999/01/01#)",dType:14,title:"Since 1st of month"},{dValue:"ESDateRange(SpecificDate, #1753/01/01#, Month, 0)",dType:15,title:"Up to end of month"},{dValue:"ESDateRange(Month, -1)",dType:16,title:"Last month"},{dValue:"ESDateRange(Month, -1, SpecificDate, #9999/01/01#)",dType:17,title:"Since 1st of last month"},{dValue:"ESDateRange(SpecificDate, #1753/01/01#, Month, -1)",dType:18,title:"Up to end of last month"},{dValue:"ESDateRange(Quarter)",dType:19,title:"Current quarter"},{dValue:"ESDateRange(Quarter, -1)",dType:20,title:"Last quarter"},{dValue:"ESDateRange(SixMonth)",dType:21,title:"This HY"},{dValue:"ESDateRange(SixMonth, -1)",dType:22,title:"Last HY"},{dValue:"ESDateRange(Year)",dType:23,title:"Current Year"},{dValue:"ESDateRange(Year, -1)",dType:24,title:"Last Year"},{dValue:"ESDateRange(FiscalPeriod, 0)",dType:25,title:"Current Fiscal Period"},{dValue:"ESDateRange(FiscalYear, 0, Day, 0)",dType:26,title:"Since start of FY up today"},{dValue:"ESDateRange(FiscalYear, 0, FiscalPeriod, 0)",dType:27,title:"Since start of FY up to end of Fiscal Period"},{dValue:"ESDateRange(FiscalPeriod, -1)",dType:28,title:"Last Fiscal Period"},{dValue:"ESDateRange(FiscalPeriod, -1, Day, 0)",dType:29,title:"Since start of last Fiscal Period up today"},{dValue:"ESDateRange(FiscalYear, 0, FiscalPeriod, -1)",dType:30,title:"Since start of FY up to last Fiscal Period"}];ESParamVal.prototype.getExecuteVal=function(){return this.paramValue},ESParamVal.prototype.strVal=function(){return this.paramValue?this.paramValue.toString():""},ESNumericParamVal.prototype=Object.create(ESParamVal.prototype),ESNumericParamVal.prototype.strVal=function(){var a=0;a=a.toString();var b=this.paramValue.value?this.paramValue.value.toString():a,c=this.paramValue.valueTo?this.paramValue.valueTo.toString():a;switch(this.paramValue.oper){case"RANGE":return" "+b+"  "+c;case"NULL":return"KENO";case"NOTNULL":return"MH KENO";default:return this.paramValue.oper.toString()+" "+b}},ESNumericParamVal.prototype.getExecuteVal=function(){switch(this.paramValue.oper){case"RANGE":return"ESNumeric("+this.paramValue.oper+", '"+this.paramValue.value+"', '"+this.paramValue.valueTo+"')";case"NULL":case"NOTNULL":return"ESNumeric("+this.paramValue.oper+", '0')";default:return"ESNumeric("+this.paramValue.oper+", '"+this.paramValue.value+"')"}},ESStringParamVal.prototype=Object.create(ESParamVal.prototype),ESStringParamVal.prototype.strVal=function(){var a=this.paramValue.value?this.paramValue.value.toString():"",b=this.paramValue.valueTo?this.paramValue.valueTo.toString():"";switch(this.paramValue.oper){case"RANGE":return" "+a+"  "+b;case"NULL":return"KENO";case"NOTNULL":return"MH KENO";default:return this.paramValue.oper.toString()+" "+a}},ESStringParamVal.prototype.getExecuteVal=function(){switch(this.paramValue.oper){case"EQ":return this.paramValue.value;case"RANGE":return"ESString("+this.paramValue.oper+", '"+this.paramValue.value+"', '"+this.paramValue.valueTo+"')";case"NULL":case"NOTNULL":return"ESString("+this.paramValue.oper+", '')";default:return"ESString("+this.paramValue.oper+", '"+this.paramValue.value+"')"}},ESDateParamVal.prototype=Object.create(ESParamVal.prototype),ESDateParamVal.prototype.strVal=function(){return dateRangeResolve(this.paramValue)},ESDateParamVal.prototype.getExecuteVal=function(){var a=this.paramValue.dRange;if("0"==a||"1"==a){var b="#1753/01/01#",c="#9999/01/01#",d=!0,e=moment(this.paramValue.fromD);e.isValid()&&(d=!1,b=e.format("YYYY/MM/DD"));var f=moment(this.paramValue.toD);return f.isValid()&&(d=!1,c=f.format("YYYY/MM/DD")),"0"==a||d?"ESDateRange(SpecificDate, #"+b+"#, SpecificDate, #"+c+"#)":"ESDateRange(SpecificDate, #"+b+"#)"}return this.paramValue.dRange},ESParamValues.prototype.setParamValues=function(a){var b=this;for(var c in b)b.hasOwnProperty(c)&&delete b[c];a&&_.isArray(a)&&0!=a.length&&a.forEach(function(a,c,d){b[a.paramCode]=a})},ESParamValues.prototype.getExecuteVals=function(){var a=this,b={};for(var c in a)if(a.hasOwnProperty(c)){var d=a[c];(d.paramValue||angular.isNumber(d.paramValue)&&0==d.paramValue)&&(b[d.paramCode]=d.getExecuteVal())}return b},esWEBUI.filter("esTrustHtml",["$sce",function(a){return function(b){return a.trustAsHtml(b)}}]),esWEBUI.filter("esParamTypeMapper",function(){var a=function(a){if(!a)return"";var b=a.parameterType.toLowerCase();if(0==b.indexOf("entersoft.framework.platform.esdaterange, queryprocess"))return"esParamDateRange";if(0==b.indexOf("entersoft.framework.platform.esnumeric"))return"esParamAdvancedNumeric";if(0==b.indexOf("entersoft.framework.platform.esstring, queryprocess"))return"esParamAdvancedString";if(0==b.indexOf("system.string, mscorlib"))switch(a.controlType){case 1:return"esParamNumeric";case 2:return"esParamNumeric"}return a.enumList&&a.enumList.length>1?a.enumOptionAll?"esParamMultiEnum":"esParamEnum":a.invSelectedMasterTable&&"Z"==a.invSelectedMasterTable[4]?a.multiValued?"esParamMultiZoom":"esParamZoom":"esParamText"};return a}).directive("esGrid",["esWebApi","esUIHelper","$log",function(a,b,c){return{restrict:"AE",scope:{esGroupId:"=",esFilterId:"=",esExecuteParams:"=",esGridOptions:"="},templateUrl:function(a,b){return c.info("Parameter element = ",a," Parameter attrs = ",b),"src/partials/esGrid.html"},link:function(c,d,e){if(!c.esGroupId||!c.esFilterId)throw"You must set GroupID and FilterID for esgrid to work";c.esGridOptions||e.esGridOptions||a.fetchPublicQueryInfo(c.esGroupId,c.esFilterId).then(function(d){var e=d.data,f=b.winGridInfoToESGridInfo(c.esGroupId,c.esFilterId,e);c.esGridOptions=b.esGridInfoToKInfo(a,c.esGroupId,c.esFilterId,c.esExecuteParams,f)})}}}]).directive("esParam",["$log","$modal","esWebApi","esUIHelper",function(a,b,c,d){return{restrict:"AE",scope:{esParamDef:"=",esParamVal:"=",esType:"="},template:"<div ng-include src=\"'src/partials/'+esType+'.html'\"></div>",link:function(b,e,f){if(!b.esParamDef)throw"You must set a param";b.esWebUIHelper=d,b.esWebApiService=c,b.esParamDef.invSelectedMasterTable&&(b.esParamLookupDS=prepareStdZoom(a,b.esParamDef.invSelectedMasterTable,c)),(6==b.esParamDef.controlType||20==b.esParamDef.controlType)&&(b.dateRangeOptions=d.getesDateRangeOptions(b.esParamDef.controlType),b.dateRangeResolution=function(){return"Hello World, I am parameter "+b.esParamDef.caption})}}}]).directive("esWebPq",["$log","esWebApi","esUIHelper",function(a,b,c){return{restrict:"AE",scope:{esGroupId:"=",esFilterId:"=",esGridOptions:"=",esParamsValues:"="},templateUrl:function(b,c){return a.info("Parameter element = ",b," Parameter attrs = ",c),"src/partials/esWebPQ.html"},link:function(a,d,e){if(!a.esGroupId||!a.esFilterId)throw"You must set the pair es-group-id and es-filter-id attrs";b.fetchPublicQueryInfo(a.esGroupId,a.esFilterId).then(function(d){var e=c.winGridInfoToESGridInfo(a.esGroupId,a.esFilterId,d.data);a.esParamsValues=e.defaultValues,a.esParamsDef=e.params,a.esGridOptions=c.esGridInfoToKInfo(b,a.esGroupId,a.esFilterId,a.esParamsValues,e)})}}}]).directive("esParamsPanel",["$log","esWebApi","esUIHelper",function(a,b,c){return{restrict:"AE",scope:{esParamsDef:"=",esPqInfo:"=",esParamsValues:"=",esGroupId:"=",esFilterId:"="},templateUrl:function(b,c){return a.info("Parameter element = ",b," Parameter attrs = ",c),"src/partials/esParams.html"},link:function(a,d,e){if(!(e.esParamsDef||e.esPqInfo||a.esGroupId&&a.esFilterId))throw"You must set either the es-params-def or ea-pq-info or the pair es-group-id and es-filter-id attrs";e.esParamsDef||(e.esPqInfo?a.esParamDef=esPqInfo.params:b.fetchPublicQueryInfo(a.esGroupId,a.esFilterId)["function"](function(b){var d=c.winGridInfoToESGridInfo(a.esGroupId,a.esFilterId,b.data);a.esParamsValues=d.defaultValues,a.esParamsDef=d.params}))}}}]),esWEBUI.factory("esUIHelper",["esWebApi","$log",function(esWebApiService,$log){function esColToKCol(a,b){var c={field:b.field,title:b.title,width:b.width,attributes:b.attributes,values:b.enumValues};return b.formatString&&""!=b.formatString&&(c.format="{0:"+b.formatString+"}"),c}function esGridInfoToKInfo(a,b,c,d,e){var f={pageable:{refresh:!0},sortable:!0,filterable:!0,resizable:!0,toolbar:["excel"],excel:{allPages:!0,fileName:b+"-"+c+".xlsx",filterable:!0}},g={serverFiltering:!0,serverPaging:!0,pageSize:20};return f.columns=e.columns,f.dataSource=prepareWebScroller(null,a,$log,function(){return{GroupID:b,FilterID:c,Params:d}},g),f}function winColToESCol(a,b,c,d){var e={AA:void 0,field:void 0,title:void 0,width:void 0,visible:void 0,attributes:void 0,enumValues:void 0,formatString:void 0};if(e.AA=parseInt(d.AA),e.field=d.ColName,e.title=d.Caption,e.formatString=d.FormatString,e.visible="true"==d.Visible,"3"==d.TextAlignment&&(e.attributes={style:"text-align: right;"}),"5"==d.EditType){var f=_.sortBy(_.filter(c.ValueList,function(a){var c=a.ColName==d.ColName;return c=c&&"undefined"!=typeof a.Value,c=c&&a.fFilterID==b}),function(a){return isNaN(a.Value)?null:parseInt(a.Value)}),g=_.map(f,function(a){return{text:a.Caption,value:isNaN(a.Value)?null:parseInt(a.Value)}});g&&g.length&&(e.enumValues=g)}return e}function dateEval(pInfo,expr){function isActualDate(a){return a&&"1753/01/01"!=a&&"9999/01/01"!=a}var SpecificDate="SpecificDate",Month="Month",SixMonth="SixMonth",Week="Week",Year="Year",Quarter="Quarter",Day="Day",dVal=eval(expr.replace(/#/g,'"')),esdate=new ESDateParamVal(pInfo.id),mD=moment(dVal,"YYYY/MM/DD");return dVal.fromType||dVal.toType||dVal.fromD||dVal.toD||!mD.isValid()?dVal.fromType==SpecificDate&&isActualDate(dVal.fromD)&&dVal.toType==SpecificDate&&isActualDate(dVal.toD)?(esdate.paramValue.dRange="0",esdate.paramValue.fromD=new Date(dVal.fromD),esdate.paramValue.toD=new Date(dVal.toD),esdate):dVal.fromType==SpecificDate&&isActualDate(dVal.fromD)?(esdate.paramValue.dRange="1",esdate.paramValue.fromD=new Date(dVal.fromD),esdate):(esdate.paramValue.dRange=expr,esdate):(esdate.paramValue.dRange="1",esdate.paramValue.fromD=mD.toDate(),esdate)}function esEval(pInfo,expr){var EQ={oper:"EQ",paramID:pInfo.id},GE={oper:"GE",paramID:pInfo.id},GT={oper:"GT",paramID:pInfo.id},LE={oper:"LE",paramID:pInfo.id},LT={oper:"LT",paramID:pInfo.id},NE={oper:"NE",paramID:pInfo.id},RANGE={oper:"RANGE",paramID:pInfo.id},NULL={oper:"NULL",paramID:pInfo.id},NOTNULL={oper:"NOTNULL",paramID:pInfo.id};return eval(expr)}function ESNumeric(a,b,c){var d={value:isNaN(b)?null:parseInt(b),valueTo:isNaN(c)?null:parseInt(c),oper:a.oper||"EQ"};return new ESNumericParamVal(a.paramID,d)}function ESString(a,b,c){var d={value:b,valueTo:c,oper:a.oper||"EQ"};return new ESStringParamVal(a.paramID,d)}function ESDateRange(a,b,c,d){return{fromType:a,fromD:b,toType:c,toD:d}}function getEsParamVal(a,b){var c=a.parameterType.toLowerCase();if(0==c.indexOf("entersoft.framework.platform.esnumeric"))return b&&0!=b.length?esEval(a,b[0].Value):new ESNumericParamVal(a.id,{oper:"EQ",value:0});if(0==c.indexOf("entersoft.framework.platform.esdaterange, queryprocess"))return b&&0!=b.length?dateEval(a,b[0].Value):new ESDateParamVal(a.id,6==a.controlType?null:{dRange:"ESDateRange(FiscalPeriod, 0)",fromD:null,toD:null});if(0==c.indexOf("entersoft.framework.platform.esstring, queryprocess"))return b&&0!=b.length?esEval(a,b[0].Value):new ESStringParamVal(a.id,{oper:"EQ",value:null});if(!b||0==b.length)return new ESParamVal(a.id,null);var d=_.map(b,function(b){return processStrToken(a,b.Value)});return 1==d.length&&(d=d[0]),new ESParamVal(a.id,d)}function processStrToken(a,b){if(!a)return b;var c=a.parameterType.toLowerCase();return-1!=c.indexOf("system.byte")||-1!=c.indexOf("system.int")?parseInt(b):a.enumList&&a.enumList.length>1?parseInt(b):b}function winParamInfoToesParamInfo(a,b){if(!a)return null;var c={id:void 0,aa:void 0,caption:void 0,toolTip:void 0,controlType:void 0,parameterType:void 0,precision:void 0,multiValued:void 0,visible:void 0,required:void 0,oDSTag:void 0,formatStrng:void 0,tags:void 0,visibility:void 0,invSelectedMasterTable:void 0,invSelectedMasterField:void 0,invTableMappings:void 0,defaultValues:void 0,enumOptionAll:void 0,enumList:void 0};c.id=a.ID,c.aa=parseInt(a.AA),c.caption=a.Caption,c.toolTip=a.Tooltip,c.controlType=parseInt(a.ControlType),c.parameterType=a.ParameterType,c.precision=parseInt(a.Precision),c.multiValued="true"==a.MultiValued,c.visible="true"==a.Visible,c.required="true"==a.Required,c.oDSTag=a.ODSTag,c.tags=a.Tags,c.visibility=parseInt(a.Visibility),c.invSelectedMasterTable=a.InvSelectedMasterTable,c.invSelectedMasterField=a.InvSelectedMasterField,c.invTableMappings=a.InvTableMappings,c.enumOptionAll=a.EnumOptionAll;var d=_.sortBy(_.map(_.filter(b.EnumItem,function(a){return a.fParamID==c.id&&"undefined"!=typeof a.ID}),function(a){return{text:c.oDSTag?a.Caption.substring(a.Caption.indexOf(".")+1):a.Caption,value:isNaN(a.ID)?null:parseInt(a.ID)}}),"value");c.enumList=d.length?d:void 0;var e=b.DefaultValue;if(e&&angular.isArray(e)){var f=_.where(e,{fParamID:c.id});c.defaultValues=getEsParamVal(c,f)}return c}function winGridInfoToESGridInfo(a,b,c){if(!c||!c.LayoutColumn)return null;var d=b.toLowerCase(),e=_.filter(c.Filter,function(a){return a.ID.toLowerCase()==d});if(!e||1!=e.length)return null;var f={id:void 0,caption:void 0,rootTable:void 0,selectedMasterTable:void 0,selectedMasterField:void 0,totalRow:void 0,columnHeaders:void 0,columnSetHeaders:void 0,columnSetRowCount:void 0,columnSetHeaderLines:void 0,headerLines:void 0,groupByBoxVisible:void 0,filterLineVisible:!1,previewRow:void 0,previewRowMember:void 0,previewRowLines:void 0,columns:void 0,params:void 0,defaultValues:void 0},g=_.map(_.filter(c.LayoutColumn,function(a){return a.fFilterID.toLowerCase()==d}),function(d){return winColToESCol(a,b,c,d)}),h=_.sortBy(_.where(g,{visible:!0}),function(a){return parseInt(a.AA)}),i=_.map(h,function(a){return esColToKCol(f,a)});e=e[0],f.id=e.ID,f.caption=e.Caption,f.rootTable=e.RootTable,f.selectedMasterTable=e.SelectedMasterTable,f.selectedMasterField=e.SelectedMasterField,f.totalRow=e.TotalRow,f.columnHeaders=e.ColumnHeaders,f.columnSetHeaders=e.ColumnSetHeaders,f.columnSetRowCount=e.ColumnSetRowCount,f.columnSetHeaderLines=e.ColumnSetHeaderLines,f.headerLines=e.HeaderLines,f.groupByBoxVisible=e.GroupByBoxVisible,f.filterLineVisible=e.FilterLineVisible,f.previewRow=e.PreviewRow,f.previewRowMember=e.PreviewRowMember,f.previewRowLines=e.PreviewRowLines,f.columns=i,f.params=_.map(c.Param,function(a){return winParamInfoToesParamInfo(a,c)});var j=_.map(f.params,function(a){return a.defaultValues});return f.defaultValues=new ESParamValues(j),f}return{ESParamVal:ESParamVal,ESNumericParamVal:ESNumericParamVal,ESStringParamVal:ESStringParamVal,ESDateParamVal:ESDateParamVal,winGridInfoToESGridInfo:winGridInfoToESGridInfo,winColToESCol:winColToESCol,esColToKCol:esColToKCol,esGridInfoToKInfo:esGridInfoToKInfo,getZoomDataSource:prepareStdZoom,getPQDataSource:prepareWebScroller,getesDateRangeOptions:function(a){if(!a||!dDateRangeClass[a])return esDateRangeOptions;var b=dDateRangeClass[a];if(!_.isArray(b)||0==b.length)return esDateRangeOptions;var c,d=[];for(c=0;c<b.length;c++)d[c]=esDateRangeOptions[b[c]];return d},getesComplexParamFunctionOptions:function(){return esComplexParamFunctionOptions}}}])}();