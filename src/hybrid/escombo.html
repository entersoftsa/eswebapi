<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="initial-scale=1, maximum-scale=1">

    <title>Entersoft Mobile Public Query Viewer</title>
    <link rel="stylesheet" href="styles/eswebapi.min.css" />
    <!-- build:css styles/app.min.css -->
    <link rel="stylesheet" href="app-red.css">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="kendo-styles.css">
    <!-- endbuild -->
</head>

<body ng-cloak class="extended">
    <div ng-controller="esComponentCtrl" class="mdl-layout mdl-js-layout mdl-layout--fixed-header">
        <div class="page-content remodal-bg animsition">
            <div ng-if="showLogin">
                <es-login es-credentials="esCredentials" es-on-success="authenticate()" es-show-subscription="true" es-show-bridge="true" es-show-sticky-session="0">
                </es-login>
            </div>
            <div ng-repeat="section in esPqDef" ng-init="outerIndex = $index" class="layout-row" layout-sm="column" layout-xs="column">
                <div ng-repeat="dbItem in section" class="mdl-cell shadow" flex="{{100 / (section.length || 2)}}" flex-sm="100" flex-xs="100" style="background: white;">
                    <div id="anchor{{dbItem.CtxID}}" class="panel-body forms">
                        <div ng-if="::!isFavouritesMode" class="actions-r">
                            <button role="button" class="btn btn-transparent"><a ng-click="addRemoveFav(dbItem, true)" title="{{'FAV.ADD' | translate}}"><i class="mdi md-32 mdi-heart"></i></a></button>
                        </div>
                        <div ng-if="::isFavouritesMode" class="actions-r">
                            <button role="button" class="btn btn-transparent"><a ng-click="addRemoveFav(dbItem, false)" title="{{'FAV.DEL' | translate}}"><i class="mdi md-32 red mdi-heart-off"></i></a></button>
                            <button role="button" class="btn btn-transparent margin-r" ng-class="{'disabled': !canMoveUpOrDown(dbItem, true)}"><a ng-click="moveUpOrDown(dbItem, true)" title="{{'FAV.UP' | translate}}"><i class="mdi md-32 mdi-arrow-up-bold-circle"></i></a></button>
                            <button role="button" class="btn btn-transparent" ng-class="{'disabled': !canMoveUpOrDown(dbItem, false)}"><a ng-click="moveUpOrDown(dbItem, false)" title="{{'FAV.DOWN' | translate}}"><i class="mdi md-32 mdi-arrow-down-bold-circle"></i></a></button>
                        </div>
                        <es-web-pq ng-if="dbItem.ESUIType.toLowerCase() == 'esgrid'" es-group-id="dbItem.GroupID" es-p-q-options="dbItem.PQOptions" es-panel-open="dbItem.esPanelOpen" es-params-values="dbItem.Params" es-force-title="dbItem.Title" es-filter-id="dbItem.FilterID" es-grid-options="dbItem.UIOptions">
                        </es-web-pq>
                        <es-chart ng-if="dbItem.ESUIType.toLowerCase() == 'eschart'" es-pq-def="dbItem" es-panel-open="dbItem.esPanelOpen" es-chart-options="dbItem.UIOptions">
                        </es-chart>
                        <es-tree-map ng-if="dbItem.ESUIType.toLowerCase() == 'estreemap'" es-pq-def="dbItem" es-panel-open="dbItem.esPanelOpen" es-chart-options="dbItem.UIOptions">
                        </es-tree-map>
                        <es-pivot-pq ng-if="dbItem.ESUIType.toLowerCase() == 'espivot'" es-pq-def="dbItem" es-panel-open="dbItem.esPanelOpen">
                        </es-pivot-pq>
                        <es-map-pq ng-if="dbItem.ESUIType.toLowerCase() == 'esmap'" es-options="dbItem.UIOptions" es-pq-def="dbItem" es-panel-open="dbItem.esPanelOpen">
                        </es-map-pq>
                        <span id="anchor3"></span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- build:ESDEBUG -->
    <script type="text/javascript">
    function prepareMobileCall() {
        window.esWebApiSettings = {
            host: "eswebapi.entersoft.gr",
            allowUnsecureConnection: false,
            subscriptionId: "rigdev",
            subscriptionPassword: "passx",
            UserID: "admin",
            Password: "entersoft",
            LangID: "en-GB",
            bridgeId: "",
            BranchID: "ΑΘΗ"
        };
        window.esDeviceMode = "";
        window.esGridHeight = "";
        window.esWebApiToken = "";
        window.esDef = {
            "AA": 1000,
            "ID": "PQ_1000",
            "GroupID": "BUSENT",
            "Title": {
                "en": "Trade accounts",
                "el": "Συναλλασσόμενοι",
                "ro": "Conturi comerciale",
                "bg": "Контрагенти"
            },
            "Description": "Συναλλασσόμενοι",
            "ESUIType": "esCombo",
            "esDef": [{
                    "AA": 1010,
                    "ID": "PQ_1010",
                    "Title": "Πελάτες",
                    "Description": "Πελάτες",
                    "ESUIType": "esGrid",
                    "esDef": {
                        "GroupID": "ESWebManager",
                        "FilterID": "BusEntitiesCustomers",
                        "PQOptions": {
                            "ServerPaging": true,
                            "PageSize": 20,
                            "AutoExecute": false
                        }
                    }
                },
                {
                    "AA": 1011,
                    "ID": "PQ_1011",
                    "Title": "Πρόσωπα",
                    "Description": "Πρόσωπα",
                    "ESUIType": "esGrid",
                    "esDef": {
                        "GroupID": "ESWebManager",
                        "FilterID": "BusEntitiesPerson",
                        "PQOptions": {
                            "ServerPaging": true,
                            "PageSize": 20,
                            "AutoExecute": false
                        }
                    }
                },
                {
                    "AA": 1012,
                    "ID": "PQ_1012",
                    "Title": "Επιχειρηματικές Επαφές",
                    "Description": "Επιχειρηματικές Επαφές",
                    "ESUIType": "esGrid",
                    "esDef": {
                        "GroupID": "ESWebManager",
                        "FilterID": "BusEntitiesContacts",
                        "PQOptions": {
                            "ServerPaging": true,
                            "PageSize": 20,
                            "AutoExecute": false
                        }
                    }
                },
                {
                    "AA": 1013,
                    "ID": "PQ_1013",
                    "Title": "Επιχειρηματικές διευθύνσεις",
                    "Description": "Επιχειρηματικές διευθύνσεις",
                    "ESUIType": "esGrid",
                    "esDef": {
                        "GroupID": "ESWebManager",
                        "FilterID": "BusEntitiesBusinessAddresses",
                        "PQOptions": {
                            "ServerPaging": true,
                            "PageSize": 20,
                            "AutoExecute": false
                        }
                    }
                }
            ]
        };
    };
    prepareMobileCall();
    window.angular.element(document).ready(function() {
        {
            window.angular.bootstrap(document, ['esWebPqApp']);
        }
    });
    </script>
    <!-- endbuild -->
    <script src="js/eswebapi.all.min.js"></script>
    <script src="js/app.min.js"></script>
</body>

</html>