<a href="https://github.com/entersoftsa/eswebapi/edit/master/src/js/eswebservices.js" class="improve-docs"><i class="icon-edit"> </i>Improve this doc</a><a href="https://github.com/entersoftsa/eswebapi/blob/25b713d/src/js/eswebservices.js#L105" class="view-source"><i class="icon-eye-open"> </i>View source</a><h1><code ng:non-bindable="">esWebApiProvider</code>
<div><span class="hint">service in module <code ng:non-bindable="">es.Services.Web</code>
</span>
</div>
</h1>
<div><h2 id="description">Description</h2>
<div class="description"><div class="es-services-web-eswebapiprovider-page"><p>Provides the functions needed to configure the esWebAPI service through the esWebApiProvider that is taking place typically in the <em>app.js</em> file of the AngularJS SPA
in the <em>app.config</em> function.
Web API.</p>
</div></div>
<div class="member method"><h2 id="methods">Methods</h2>
<ul class="methods"><li><a href="https://github.com/entersoftsa/eswebapi/blob/25b713d/src/js/eswebservices.js#L173" class="view-source icon-eye-open"> </a><h3 id="methods_getserverurl">getServerUrl()</h3>
<div class="getserverurl"><div class="es-services-web-eswebapiprovider-getserverurl-page"><p>Function that returns the actual URL to the Entersoft WEB API Server as it has been resolved after configuration of
the esWebApiProvider.</p>
</div><h5 id="methods_getserverurl_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="es-services-web-eswebapiprovider-getserverurl-page"><p>Returns the actual URL to the Entersoft WEB API Server</p>
</div></td></tr></table></div>
</li>
<li><a href="https://github.com/entersoftsa/eswebapi/blob/25b713d/src/js/eswebservices.js#L159" class="view-source icon-eye-open"> </a><h3 id="methods_getsettings">getSettings()</h3>
<div class="getsettings"><div class="es-services-web-eswebapiprovider-getsettings-page"><p>Function that returns the current settings that have been used for the configuration of the esWebApiProvider.</p>
</div><h5 id="methods_getsettings_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-object">object</a></td><td><div class="es-services-web-eswebapiprovider-getsettings-page"><p>A JSON object representing the esWebApiProvider configuration settings. A typical form
of the <em>settings</em> configuration object is as follows:</p>
<pre><code class="lang-js">var esWebApiSettings = {
    host: string, // i.e. &quot;localhost/eswebapi&quot; the url (with out the http or https protocol) that points to the Entersoft WEB API Server
                  // if you specify the complete url, then the https or https part will be automatically removed. The actual protocol that 
                  // wil be used depends on the allowUnsecureConnection property.
    subscriptionId: string, // i.e. in typical installations this should be an empty string &quot;&quot;
    subscriptionPassword: string, // the passowrd for the selected subscriptionId. In typical instllations this would be &quot;passx&quot;
    allowUnsecureConnection: boolean // whether the ES Web Api Server allows for unsecure connections i.e. http or not i.e. https will be used
}
</code></pre>
</div></td></tr></table></div>
</li>
<li><a href="https://github.com/entersoftsa/eswebapi/blob/25b713d/src/js/eswebservices.js#L240" class="view-source icon-eye-open"> </a><h3 id="methods_setsettings">setSettings(settings, claims)</h3>
<div class="setsettings"><div class="es-services-web-eswebapiprovider-setsettings-page"><p>Function that returns the full URL to the Entersoft WEB API Server as it has been resolved
according to the configuration of the esWebApiProvider at the provider&#39;s configuration function of the AngularJS application.
For more information on how to setup the Entersoft Web Api Server please refer to <a href="#/installation/es02wapis">ES WEB API Server</a>.
A typical form 
of the <em>settings</em> configuration object is as follows:</p>
<pre><code class="lang-js">var esWebApiSettings = {
            host: string, // i.e. &quot;localhost/eswebapi&quot; the url  .
            subscriptionId: string, // i.e. in typical installations this should be an empty string &quot;&quot;
            subscriptionPassword: string, // the passowrd for the selected subscriptionId. In typical instllations this would be &quot;passx&quot;
            allowUnsecureConnection: boolean // whether the ES Web Api Server allows for unsecure connections i.e. http or not i.e. https will be used
        }
</code></pre>
</div><h5 id="methods_setsettings_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>settings</td><td><a href="" class="label type-hint type-hint-object">object</a></td><td><div class="es-services-web-eswebapiprovider-setsettings-page"><p>A JSON object that contains the configuration properties for the esWebApi service to work.</p>
</div><table><thead><tr><th>Property</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>host</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="es-services-web-eswebapiprovider-setsettings-page"><p>The URL (with out the http or https protocol) that points to the Entersoft WEB API Server.
if you specify the complete url, then the https or https part will be automatically removed. The actual protocol that 
will be used depends on the allowUnsecureConnection property. For example, &quot;localhost/eswebapi&quot; or &quot;api.entersoft.gr&quot;.</p>
</div></td></tr><tr><td>allowUnsecureConnection</td><td><a href="" class="label type-hint type-hint-boolean">boolean</a></td><td><div class="es-services-web-eswebapiprovider-setsettings-page"><p>Boolean value that indicates whether the ES WEB API Server allows for unsecure connections (true) i.e. http or not (false) i.e. https will be used</p>
</div></td></tr><tr><td>subscriptionId <div><em>(optional)</em></div></td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="es-services-web-eswebapiprovider-setsettings-page"><p>The ID that identifies from the list of the registered subscriptions in the <a href="#/installation/es02wapis#config-file">config.json</a> will be used to open session.
If null, or empty or undefined, then if  the <strong>subscriptionId</strong> is not specified at the run-time when calling the <a href="#/api/es.Services.Web.esWebApi#methods_opensession">openSession</a>
the framework will search for a Subscription with SubscriptionID = &quot;&quot;. If such a subscription is not found in 
the <a href="#/installation/es02wapis#config-file">config.json</a> under the Subscriptions list, an error will be returned.</p>
</div></td></tr><tr><td>subscriptionPassword <div><em>(optional)</em></div></td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="es-services-web-eswebapiprovider-setsettings-page"><p>The password that has been assigned in the <a href="#/installation/es02wapis#config-file">config.json</a> for the given
SubscriptionId.</p>
</div></td></tr><tr><td>bridgeId <div><em>(optional)</em></div></td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="es-services-web-eswebapiprovider-setsettings-page"><p>The ID that identifies the bridge from the list of bridges under the given Subscription that matches the SubscrptionID that
will be used in <a href="#/api/es.Services.Web.esWebApi#methods_opensession">openSession</a> and in <a href="#/api/es.Services.Web.esWebApi#methods_fetchusersites">fetchUserSites</a>.
If null, or empty or undefined, then if the <strong>bridgeId</strong> is not specified at the run-time when calling the <a href="#/api/es.Services.Web.esWebApi#methods_opensession">openSession</a>
the framework will search for a Bridge with BridgeID = &quot;&quot; under the list of bridges of the specific Subscription. If such a bridge is not found in 
the <a href="#/installation/es02wapis#config-file">config.json</a> under the Subscription&#39;s Bridges list, an error will be returned.</p>
</div></td></tr></tbody></table></td></tr><tr><td>claims <div><em>(optional)</em></div></td><td><a href="" class="label type-hint type-hint-object">object</a></td><td><div class="es-services-web-eswebapiprovider-setsettings-page"><p>A JSON string/value pairs object with a set of claims that should be passed all the way from the web api client to
the Entersoft Application Server with full support of Call Context. For more information</p>
</div></td></tr></tbody></table><h4 id="methods_setsettings_example">Example</h4>
<div class="example"><div class="es-services-web-eswebapiprovider-setsettings-page"><p>This sample assumes that the Entersoft WEB API Server has been installed in the local Microsoft IIS as a WEB Application under
the Default Web Site as shown below:
<img src="images/api/es01webapisrv.png" alt="Local ES WEB API Server"></p>
<pre><code class="lang-js">eskbApp.config([&#39;$logProvider&#39;,
    &#39;$routeProvider&#39;,
    &#39;esWebApiProvider&#39;,
    &#39;$exceptionHandlerProvider&#39;,
    function($logProvider, $routeProvider, esWebApiServiceProvider, $exceptionHandlerProvider) {

        // The configuration of the other providers used in this AngularJS Application is 
        // omitted for clarity purposes

        var subscriptionId = &quot;&quot;;
        esWebApiServiceProvider.setSettings({
            host: &quot;localhost/eswebapi&quot;,
            subscriptionId: subscriptionId,
            subscriptionPassword: &quot;passx&quot;,
            bridgeId: &quot;&quot;,
            allowUnsecureConnection: true
        });
    }
]);
</code></pre>
</div></div>
</div>
</li>
</ul>
</div>
</div>
